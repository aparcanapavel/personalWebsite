{"version":3,"file":"ngx-bootstrap-datepicker.umd.js.map","sources":["ng://ngx-bootstrap/datepicker/bs-datepicker.config.ts","node_modules/tslib/tslib.es6.js","ng://ngx-bootstrap/datepicker/base/bs-datepicker-container.ts","ng://ngx-bootstrap/datepicker/reducer/bs-datepicker.actions.ts","ng://ngx-bootstrap/datepicker/bs-locale.service.ts","ng://ngx-bootstrap/datepicker/reducer/bs-datepicker.effects.ts","ng://ngx-bootstrap/datepicker/reducer/_defaults.ts","ng://ngx-bootstrap/datepicker/reducer/bs-datepicker.state.ts","ng://ngx-bootstrap/datepicker/utils/bs-calendar-utils.ts","ng://ngx-bootstrap/datepicker/utils/matrix-utils.ts","ng://ngx-bootstrap/datepicker/engine/calc-days-calendar.ts","ng://ngx-bootstrap/datepicker/engine/format-days-calendar.ts","ng://ngx-bootstrap/datepicker/engine/flag-days-calendar.ts","ng://ngx-bootstrap/datepicker/engine/view-mode.ts","ng://ngx-bootstrap/datepicker/engine/format-months-calendar.ts","ng://ngx-bootstrap/datepicker/engine/flag-months-calendar.ts","ng://ngx-bootstrap/datepicker/engine/format-years-calendar.ts","ng://ngx-bootstrap/datepicker/engine/flag-years-calendar.ts","ng://ngx-bootstrap/datepicker/reducer/bs-datepicker.reducer.ts","ng://ngx-bootstrap/datepicker/reducer/bs-datepicker.store.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-datepicker-container.component.ts","ng://ngx-bootstrap/datepicker/bs-datepicker.component.ts","ng://ngx-bootstrap/datepicker/bs-datepicker-inline.config.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-datepicker-inline-container.component.ts","ng://ngx-bootstrap/datepicker/bs-datepicker-inline.component.ts","ng://ngx-bootstrap/datepicker/bs-datepicker-input.directive.ts","ng://ngx-bootstrap/datepicker/bs-daterangepicker.config.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-daterangepicker-container.component.ts","ng://ngx-bootstrap/datepicker/bs-daterangepicker.component.ts","ng://ngx-bootstrap/datepicker/bs-daterangepicker-input.directive.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-calendar-layout.component.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-current-date-view.component.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-custom-dates-view.component.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-datepicker-day-decorator.directive.ts","ng://ngx-bootstrap/datepicker/models/index.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-datepicker-navigation-view.component.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-days-calendar-view.component.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-months-calendar-view.component.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-timepicker-view.component.ts","ng://ngx-bootstrap/datepicker/themes/bs/bs-years-calendar-view.component.ts","ng://ngx-bootstrap/datepicker/bs-datepicker.module.ts","ng://ngx-bootstrap/datepicker/date-formatter.ts","ng://ngx-bootstrap/datepicker/datepicker-inner.component.ts","ng://ngx-bootstrap/datepicker/datepicker.config.ts","ng://ngx-bootstrap/datepicker/datepicker.component.ts","ng://ngx-bootstrap/datepicker/daypicker.component.ts","ng://ngx-bootstrap/datepicker/monthpicker.component.ts","ng://ngx-bootstrap/datepicker/yearpicker.component.ts","ng://ngx-bootstrap/datepicker/datepicker.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  DatepickerRenderOptions,\n  BsDatepickerViewMode\n} from './models';\n\n\n/**\n * For date range picker there are `BsDaterangepickerConfig` which inherits all properties,\n * except `displayMonths`, for range picker it default to `2`\n */\n@Injectable()\nexport class BsDatepickerConfig implements DatepickerRenderOptions {\n  /** sets use adaptive position */\n  adaptivePosition = false;\n  value?: Date | Date[];\n  isDisabled?: boolean;\n  /**\n   * Default min date for all date/range pickers\n   */\n  minDate?: Date;\n  /**\n   * Default max date for all date/range pickers\n   */\n  maxDate?: Date;\n\n  daysDisabled?: number[];\n\n  /**\n   * Disable specific dates\n   */\n  datesDisabled?: Date[];\n  /**\n   * Makes dates from other months active\n   */\n  selectFromOtherMonth?: boolean;\n\n  /**\n   * Makes dates from other months active\n   */\n  selectWeek?: boolean;\n\n  /**\n   * Add class to current day\n   */\n  customTodayClass?: string;\n\n  /**\n   * Default mode for all date pickers\n   */\n  minMode?: BsDatepickerViewMode;\n\n  /** CSS class which will be applied to datepicker container,\n   * usually used to set color theme\n   */\n  containerClass = 'theme-green';\n\n  // DatepickerRenderOptions\n  displayMonths = 1;\n  /**\n   * Allows to hide week numbers in datepicker\n   */\n  showWeekNumbers = true;\n\n  dateInputFormat = 'L';\n  // range picker\n  rangeSeparator = ' - ';\n  /**\n   * Date format for date range input field\n   */\n  rangeInputFormat = 'L';\n\n  // DatepickerFormatOptions\n  monthTitle = 'MMMM';\n  yearTitle = 'YYYY';\n  dayLabel = 'D';\n  monthLabel = 'MMMM';\n  yearLabel = 'YYYY';\n  weekNumbers = 'w';\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// datepicker container component\n/* tslint:disable:no-empty */\nimport { BsCustomDates } from '../themes/bs/bs-custom-dates-view.component';\nimport { BsDatepickerEffects } from '../reducer/bs-datepicker.effects';\nimport { Observable } from 'rxjs';\nimport {\n  BsDatepickerViewMode,\n  BsNavigationEvent,\n  CalendarCellViewModel,\n  CellHoverEvent,\n  DatepickerRenderOptions,\n  DaysCalendarViewModel,\n  DayViewModel,\n  MonthsCalendarViewModel,\n  WeekViewModel,\n  YearsCalendarViewModel\n} from '../models';\n\nexport abstract class BsDatepickerAbstractComponent {\n  containerClass: string;\n  isOtherMonthsActive: boolean;\n\n  _effects: BsDatepickerEffects;\n  _customRangesFish: BsCustomDates[] = [];\n\n  set minDate(value: Date) {\n    this._effects.setMinDate(value);\n  }\n\n  set maxDate(value: Date) {\n    this._effects.setMaxDate(value);\n  }\n  set daysDisabled(value: number[]) {\n    this._effects.setDaysDisabled(value);\n  }\n  set datesDisabled(value: Date[]) {\n    this._effects.setDatesDisabled(value);\n  }\n\n  set isDisabled(value: boolean) {\n    this._effects.setDisabled(value);\n  }\n\n  viewMode: Observable<BsDatepickerViewMode>;\n  daysCalendar: Observable<DaysCalendarViewModel[]>;\n  monthsCalendar: Observable<MonthsCalendarViewModel[]>;\n  yearsCalendar: Observable<YearsCalendarViewModel[]>;\n  options: Observable<DatepickerRenderOptions>;\n\n  setViewMode(event: BsDatepickerViewMode): void {}\n\n  navigateTo(event: BsNavigationEvent): void {}\n\n  dayHoverHandler(event: CellHoverEvent): void {}\n\n  weekHoverHandler(event: WeekViewModel): void {}\n\n  monthHoverHandler(event: CellHoverEvent): void {}\n\n  yearHoverHandler(event: CellHoverEvent): void {}\n\n  daySelectHandler(day: DayViewModel): void {}\n\n  monthSelectHandler(event: CalendarCellViewModel): void {}\n\n  yearSelectHandler(event: CalendarCellViewModel): void {}\n\n  /* tslint:disable-next-line: no-any */\n  _stopPropagation(event: any): void {\n    event.stopPropagation();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TimeUnit } from 'ngx-bootstrap/chronos';\nimport { Action } from 'ngx-bootstrap/mini-ngrx';\nimport {\n  BsDatepickerViewMode,\n  BsViewNavigationEvent,\n  CellHoverEvent,\n  DatepickerRenderOptions\n} from '../models';\n\n@Injectable()\nexport class BsDatepickerActions {\n  static readonly CALCULATE = '[datepicker] calculate dates matrix';\n  static readonly FORMAT = '[datepicker] format datepicker values';\n  static readonly FLAG = '[datepicker] set flags';\n  static readonly SELECT = '[datepicker] select date';\n  static readonly NAVIGATE_OFFSET = '[datepicker] shift view date';\n  static readonly NAVIGATE_TO = '[datepicker] change view date';\n  static readonly SET_OPTIONS = '[datepicker] update render options';\n  static readonly HOVER = '[datepicker] hover date';\n  static readonly CHANGE_VIEWMODE = '[datepicker] switch view mode';\n\n  static readonly SET_MIN_DATE = '[datepicker] set min date';\n  static readonly SET_MAX_DATE = '[datepicker] set max date';\n  static readonly SET_DAYSDISABLED = '[datepicker] set days disabled';\n  static readonly SET_DATESDISABLED = '[datepicker] set dates disabled';\n  static readonly SET_IS_DISABLED = '[datepicker] set is disabled';\n\n  static readonly SET_LOCALE = '[datepicker] set datepicker locale';\n\n  static readonly SELECT_RANGE = '[daterangepicker] select dates range';\n\n  calculate(): Action {\n    return { type: BsDatepickerActions.CALCULATE };\n  }\n\n  format(): Action {\n    return { type: BsDatepickerActions.FORMAT };\n  }\n\n  flag(): Action {\n    return { type: BsDatepickerActions.FLAG };\n  }\n\n  select(date: Date): Action {\n    return {\n      type: BsDatepickerActions.SELECT,\n      payload: date\n    };\n  }\n\n  changeViewMode(event: BsDatepickerViewMode): Action {\n    return {\n      type: BsDatepickerActions.CHANGE_VIEWMODE,\n      payload: event\n    };\n  }\n\n  navigateTo(event: BsViewNavigationEvent): Action {\n    return {\n      type: BsDatepickerActions.NAVIGATE_TO,\n      payload: event\n    };\n  }\n\n  navigateStep(step: TimeUnit): Action {\n    return {\n      type: BsDatepickerActions.NAVIGATE_OFFSET,\n      payload: step\n    };\n  }\n\n  setOptions(options: DatepickerRenderOptions): Action {\n    return {\n      type: BsDatepickerActions.SET_OPTIONS,\n      payload: options\n    };\n  }\n\n  // date range picker\n  selectRange(value: Date[]): Action {\n    return {\n      type: BsDatepickerActions.SELECT_RANGE,\n      payload: value\n    };\n  }\n\n  hoverDay(event: CellHoverEvent): Action {\n    return {\n      type: BsDatepickerActions.HOVER,\n      payload: event.isHovered ? event.cell.date : null\n    };\n  }\n\n  minDate(date: Date): Action {\n    return {\n      type: BsDatepickerActions.SET_MIN_DATE,\n      payload: date\n    };\n  }\n\n  maxDate(date: Date): Action {\n    return {\n      type: BsDatepickerActions.SET_MAX_DATE,\n      payload: date\n    };\n  }\n\n  daysDisabled(days: number[]): Action {\n    return {\n      type: BsDatepickerActions.SET_DAYSDISABLED,\n      payload: days\n    };\n  }\n\n  datesDisabled(dates: Date[]): Action {\n    return {\n      type: BsDatepickerActions.SET_DATESDISABLED,\n      payload: dates\n    };\n  }\n\n  isDisabled(value: boolean): Action {\n    return {\n      type: BsDatepickerActions.SET_IS_DISABLED,\n      payload: value\n    };\n  }\n\n  setLocale(locale: string): Action {\n    return {\n      type: BsDatepickerActions.SET_LOCALE,\n      payload: locale\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable()\nexport class BsLocaleService {\n  private _defaultLocale = 'en';\n  private _locale = new BehaviorSubject<string>(this._defaultLocale);\n  private _localeChange: Observable<string> = this._locale.asObservable();\n\n  get locale(): BehaviorSubject<string> {\n    return this._locale;\n  }\n\n  get localeChange(): Observable<string> {\n    return this._localeChange;\n  }\n\n  get currentLocale(): string {\n    return this._locale.getValue();\n  }\n\n  use(locale: string): void {\n    if (locale === this.currentLocale) {\n      return;\n    }\n\n    this._locale.next(locale);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Observable, Subscription } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { getFullYear, getMonth } from 'ngx-bootstrap/chronos';\n\nimport { BsDatepickerAbstractComponent } from '../base/bs-datepicker-container';\nimport { BsDatepickerActions } from './bs-datepicker.actions';\nimport { BsDatepickerConfig } from '../bs-datepicker.config';\nimport { BsDatepickerStore } from './bs-datepicker.store';\nimport { BsLocaleService } from '../bs-locale.service';\n\nimport {\n  BsDatepickerViewMode,\n  BsNavigationEvent,\n  CalendarCellViewModel,\n  CellHoverEvent,\n  DatepickerRenderOptions,\n  DaysCalendarViewModel,\n  DayViewModel,\n  MonthsCalendarViewModel,\n  YearsCalendarViewModel\n} from '../models';\n\n\n@Injectable()\nexport class BsDatepickerEffects {\n  viewMode: Observable<BsDatepickerViewMode>;\n  daysCalendar: Observable<DaysCalendarViewModel[]>;\n  monthsCalendar: Observable<MonthsCalendarViewModel[]>;\n  yearsCalendar: Observable<YearsCalendarViewModel[]>;\n  options: Observable<DatepickerRenderOptions>;\n\n  private _store: BsDatepickerStore;\n  private _subs: Subscription[] = [];\n\n  constructor(private _actions: BsDatepickerActions,\n              private _localeService: BsLocaleService) {}\n\n  init(_bsDatepickerStore: BsDatepickerStore): BsDatepickerEffects {\n    this._store = _bsDatepickerStore;\n\n    return this;\n  }\n\n  /** setters */\n\n  setValue(value: Date): void {\n    this._store.dispatch(this._actions.select(value));\n  }\n\n  setRangeValue(value: Date[]): void {\n    this._store.dispatch(this._actions.selectRange(value));\n  }\n\n  setMinDate(value: Date): BsDatepickerEffects {\n    this._store.dispatch(this._actions.minDate(value));\n\n    return this;\n  }\n\n  setMaxDate(value: Date): BsDatepickerEffects {\n    this._store.dispatch(this._actions.maxDate(value));\n\n    return this;\n  }\n\n  setDaysDisabled(value: number[]) {\n    this._store.dispatch(this._actions.daysDisabled(value));\n\n    return this;\n  }\n\n  setDatesDisabled(value: Date[]) {\n    this._store.dispatch(this._actions.datesDisabled(value));\n\n    return this;\n  }\n\n  setDisabled(value: boolean): BsDatepickerEffects {\n    this._store.dispatch(this._actions.isDisabled(value));\n\n    return this;\n  }\n\n  /* Set rendering options */\n  setOptions(_config: BsDatepickerConfig): BsDatepickerEffects {\n    const _options = Object.assign({locale: this._localeService.currentLocale}, _config);\n    this._store.dispatch(this._actions.setOptions(_options));\n\n    return this;\n  }\n\n  /** view to mode bindings */\n  setBindings(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\n    container.daysCalendar = this._store\n      .select(state => state.flaggedMonths)\n      .pipe(\n        filter(months => !!months)\n      );\n\n    // month calendar\n    container.monthsCalendar = this._store\n      .select(state => state.flaggedMonthsCalendar)\n      .pipe(\n        filter(months => !!months)\n      );\n\n    // year calendar\n    container.yearsCalendar = this._store\n      .select(state => state.yearsCalendarFlagged)\n      .pipe(\n        filter(years => !!years)\n      );\n\n    container.viewMode = this._store.select(state => state.view.mode);\n\n    container.options = this._store\n      .select(state => state.showWeekNumbers)\n      .pipe(\n        map(showWeekNumbers => ({showWeekNumbers}))\n      );\n\n    return this;\n  }\n\n  /** event handlers */\n  setEventHandlers(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\n    container.setViewMode = (event: BsDatepickerViewMode): void => {\n      this._store.dispatch(this._actions.changeViewMode(event));\n    };\n\n    container.navigateTo = (event: BsNavigationEvent): void => {\n      this._store.dispatch(this._actions.navigateStep(event.step));\n    };\n\n    container.dayHoverHandler = (event: CellHoverEvent): void => {\n      const _cell = event.cell as DayViewModel;\n      if (_cell.isOtherMonth || _cell.isDisabled) {\n        return;\n      }\n\n      this._store.dispatch(this._actions.hoverDay(event));\n      _cell.isHovered = event.isHovered;\n    };\n\n    container.monthHoverHandler = (event: CellHoverEvent): void => {\n      event.cell.isHovered = event.isHovered;\n    };\n\n    container.yearHoverHandler = (event: CellHoverEvent): void => {\n      event.cell.isHovered = event.isHovered;\n    };\n\n    container.monthSelectHandler = (event: CalendarCellViewModel): void => {\n      if (event.isDisabled) {\n        return;\n      }\n      this._store.dispatch(\n        this._actions.navigateTo({\n          unit: {\n            month: getMonth(event.date),\n            year: getFullYear(event.date)\n          },\n          viewMode: 'day'\n        })\n      );\n    };\n\n    container.yearSelectHandler = (event: CalendarCellViewModel): void => {\n      if (event.isDisabled) {\n        return;\n      }\n      this._store.dispatch(\n        this._actions.navigateTo({\n          unit: {\n            year: getFullYear(event.date)\n          },\n          viewMode: 'month'\n        })\n      );\n    };\n\n    return this;\n  }\n\n  registerDatepickerSideEffects(): BsDatepickerEffects {\n    this._subs.push(\n      this._store.select(state => state.view).subscribe(view => {\n        this._store.dispatch(this._actions.calculate());\n      })\n    );\n\n    // format calendar values on month model change\n    this._subs.push(\n      this._store\n        .select(state => state.monthsModel)\n        .pipe(\n          filter(monthModel => !!monthModel)\n        )\n        .subscribe(month => this._store.dispatch(this._actions.format()))\n    );\n\n    // flag day values\n    this._subs.push(\n      this._store\n        .select(state => state.formattedMonths)\n        .pipe(\n          filter(month => !!month)\n        )\n        .subscribe(month => this._store.dispatch(this._actions.flag()))\n    );\n\n    // flag day values\n    this._subs.push(\n      this._store\n        .select(state => state.selectedDate)\n        .pipe(\n          filter(selectedDate => !!selectedDate)\n        )\n        .subscribe(selectedDate => this._store.dispatch(this._actions.flag()))\n    );\n\n    // flag for date range picker\n    this._subs.push(\n      this._store\n        .select(state => state.selectedRange)\n        .pipe(\n          filter(selectedRange => !!selectedRange)\n        )\n        .subscribe(selectedRange => this._store.dispatch(this._actions.flag()))\n    );\n\n    // monthsCalendar\n    this._subs.push(\n      this._store\n        .select(state => state.monthsCalendar)\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\n    );\n\n    // years calendar\n    this._subs.push(\n      this._store\n        .select(state => state.yearsCalendarModel)\n        .pipe(\n          filter(state => !!state)\n        )\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\n    );\n\n    // on hover\n    this._subs.push(\n      this._store\n        .select(state => state.hoveredDate)\n        .pipe(\n          filter(hoveredDate => !!hoveredDate)\n        )\n        .subscribe(hoveredDate => this._store.dispatch(this._actions.flag()))\n    );\n\n    // on locale change\n    this._subs.push(\n      this._localeService.localeChange\n        .subscribe(locale => this._store.dispatch(this._actions.setLocale(locale)))\n    );\n\n    return this;\n  }\n\n  destroy(): void {\n    for (const sub of this._subs) {\n      sub.unsubscribe();\n    }\n  }\n}\n","import {\n  MonthViewOptions\n} from '../models';\n\nexport const defaultMonthOptions: MonthViewOptions = {\n  width: 7,\n  height: 6\n};\n","import {\n  BsDatepickerViewMode,\n  DatepickerFormatOptions,\n  DatepickerRenderOptions,\n  DaysCalendarModel,\n  DaysCalendarViewModel,\n  MonthsCalendarViewModel,\n  MonthViewOptions,\n  YearsCalendarViewModel\n} from '../models';\nimport { defaultMonthOptions } from './_defaults';\nimport { BsDatepickerConfig } from '../bs-datepicker.config';\n\nexport interface BsDatepickerViewState {\n  date: Date;\n  mode: BsDatepickerViewMode;\n}\n\nexport class BsDatepickerState\n  implements DatepickerRenderOptions, DatepickerFormatOptions {\n  // date picker\n  selectedDate?: Date;\n  // daterange picker\n  selectedRange?: Date[];\n\n  // initial date of calendar, today by default\n  view: BsDatepickerViewState;\n\n  isDisabled?: boolean;\n  // bounds\n  minDate?: Date;\n  maxDate?: Date;\n  daysDisabled?: number[];\n  datesDisabled?: Date[];\n  minMode?: BsDatepickerViewMode;\n\n  hoveredDate?: Date;\n  hoveredMonth?: Date;\n  hoveredYear?: Date;\n\n  // days calendar\n  monthsModel?: DaysCalendarModel[];\n  formattedMonths?: DaysCalendarViewModel[];\n  flaggedMonths?: DaysCalendarViewModel[];\n  selectFromOtherMonth?: boolean;\n\n  // months calendar\n  monthsCalendar?: MonthsCalendarViewModel[];\n  flaggedMonthsCalendar?: MonthsCalendarViewModel[];\n\n  // years calendar\n  yearsCalendarModel?: YearsCalendarViewModel[];\n  yearsCalendarFlagged?: YearsCalendarViewModel[];\n\n  // options\n  monthViewOptions: MonthViewOptions;\n\n  // DatepickerRenderOptions\n  showWeekNumbers?: boolean;\n  displayMonths?: number;\n\n  // DatepickerFormatOptions\n  locale: string;\n\n  monthTitle: string;\n  yearTitle: string;\n\n  dayLabel: string;\n  monthLabel: string;\n  yearLabel: string;\n\n  weekNumbers: string;\n}\n\nconst _initialView: BsDatepickerViewState = { date: new Date(), mode: 'day' };\n\nexport const initialDatepickerState: BsDatepickerState = Object.assign(\n  new BsDatepickerConfig(),\n  {\n    locale: 'en',\n    view: _initialView,\n    selectedRange: [],\n    monthViewOptions: defaultMonthOptions\n  }\n);\n","import {\n  getDay,\n  isFirstDayOfWeek,\n  isAfter,\n  isBefore,\n  shiftDate,\n  endOf,\n  startOf,\n  isSame\n} from 'ngx-bootstrap/chronos';\n\nexport function getStartingDayOfCalendar(date: Date,\n                                         options: { firstDayOfWeek?: number }): Date {\n  if (isFirstDayOfWeek(date, options.firstDayOfWeek)) {\n    return date;\n  }\n\n  const weekDay = getDay(date);\n  const offset = calculateDateOffset(weekDay, options.firstDayOfWeek);\n\n  return shiftDate(date, {day: -offset});\n}\n\nexport function calculateDateOffset(weekday: number, startingDayOffset: number): number {\n  if (startingDayOffset === 0) {\n    return weekday;\n  }\n\n  const offset = weekday - startingDayOffset % 7;\n\n  return offset < 0 ? offset + 7 : offset;\n}\n\nexport function isMonthDisabled(date: Date, min: Date, max: Date): boolean {\n  const minBound = min && isBefore(endOf(date, 'month'), min, 'day');\n  const maxBound = max && isAfter(startOf(date, 'month'), max, 'day');\n\n  return minBound || maxBound;\n}\n\nexport function isYearDisabled(date: Date, min: Date, max: Date): boolean {\n  const minBound = min && isBefore(endOf(date, 'year'), min, 'day');\n  const maxBound = max && isAfter(startOf(date, 'year'), max, 'day');\n\n  return minBound || maxBound;\n}\n\nexport function isDisabledDate(date: Date, datesDisabled: Date[]): boolean {\n  if (datesDisabled === undefined || !datesDisabled || !datesDisabled.length) {\n    return false;\n  }\n\n  return datesDisabled.some((dateDisabled: Date) => isSame(date, dateDisabled, 'date'));\n}\n","import { TimeUnit, shiftDate } from 'ngx-bootstrap/chronos';\n\nexport type CreateMatrixCb<T> = (date: Date) => T;\n\nexport interface MatrixOptions {\n  height: number;\n  width: number;\n  initialDate: Date;\n  shift: TimeUnit;\n}\n\nexport function createMatrix<T>(\n  options: MatrixOptions,\n  fn: CreateMatrixCb<T>\n): T[][] {\n  let prevValue = options.initialDate;\n  const matrix: T[][] = new Array(options.height);\n  for (let i = 0; i < options.height; i++) {\n    matrix[i] = new Array(options.width);\n    for (let j = 0; j < options.width; j++) {\n      matrix[i][j] = fn(prevValue);\n      prevValue = shiftDate(prevValue, options.shift);\n    }\n  }\n\n  return matrix;\n}\n","// user and model input should handle parsing and validating input values\n// should accept some options\n// todo: split out formatting\nimport { DaysCalendarModel, MonthViewOptions } from '../models';\nimport { getFirstDayOfMonth } from 'ngx-bootstrap/chronos';\nimport { getStartingDayOfCalendar } from '../utils/bs-calendar-utils';\nimport { createMatrix } from '../utils/matrix-utils';\n\nexport function calcDaysCalendar(\n  startingDate: Date,\n  options: MonthViewOptions\n): DaysCalendarModel {\n  const firstDay = getFirstDayOfMonth(startingDate);\n  const initialDate = getStartingDayOfCalendar(firstDay, options);\n\n  const matrixOptions = {\n    width: options.width,\n    height: options.height,\n    initialDate,\n    shift: { day: 1 }\n  };\n  const daysMatrix = createMatrix<Date>(matrixOptions, date => date);\n\n  return {\n    daysMatrix,\n    month: firstDay\n  };\n}\n","import {\n  DatepickerFormatOptions,\n  DaysCalendarModel,\n  DaysCalendarViewModel\n} from '../models';\nimport { formatDate, getLocale } from 'ngx-bootstrap/chronos';\n\nexport function formatDaysCalendar(daysCalendar: DaysCalendarModel,\n                                   formatOptions: DatepickerFormatOptions,\n                                   monthIndex: number): DaysCalendarViewModel {\n  return {\n    month: daysCalendar.month,\n    monthTitle: formatDate(\n      daysCalendar.month,\n      formatOptions.monthTitle,\n      formatOptions.locale\n    ),\n    yearTitle: formatDate(\n      daysCalendar.month,\n      formatOptions.yearTitle,\n      formatOptions.locale\n    ),\n    weekNumbers: getWeekNumbers(\n      daysCalendar.daysMatrix,\n      formatOptions.weekNumbers,\n      formatOptions.locale\n    ),\n    weekdays: getShiftedWeekdays(formatOptions.locale),\n    weeks: daysCalendar.daysMatrix.map((week: Date[], weekIndex: number) => ({\n      days: week.map((date: Date, dayIndex: number) => ({\n        date,\n        label: formatDate(date, formatOptions.dayLabel, formatOptions.locale),\n        monthIndex,\n        weekIndex,\n        dayIndex\n      }))\n    }))\n  };\n}\n\nexport function getWeekNumbers(daysMatrix: Date[][],\n                               format: string,\n                               locale: string): string[] {\n  return daysMatrix.map(\n    (days: Date[]) => (days[0] ? formatDate(days[0], format, locale) : '')\n  );\n}\n\nexport function getShiftedWeekdays(locale: string): string[] {\n  const _locale = getLocale(locale);\n  const weekdays = _locale.weekdaysShort() as string[];\n  const firstDayOfWeek = _locale.firstDayOfWeek();\n\n  return [...weekdays.slice(firstDayOfWeek), ...weekdays.slice(0, firstDayOfWeek)];\n}\n","import {\n  DaysCalendarViewModel,\n  DayViewModel,\n  WeekViewModel\n} from '../models';\n\nimport {\n  isAfter,\n  isBefore,\n  isDisabledDay,\n  isSameDay,\n  isSameMonth,\n  shiftDate\n} from 'ngx-bootstrap/chronos';\n\nimport { isMonthDisabled, isDisabledDate } from '../utils/bs-calendar-utils';\n\nexport interface FlagDaysCalendarOptions {\n  isDisabled: boolean;\n  minDate: Date;\n  maxDate: Date;\n  daysDisabled: number[];\n  datesDisabled: Date[];\n  hoveredDate: Date;\n  selectedDate: Date;\n  selectedRange: Date[];\n  displayMonths: number;\n  monthIndex: number;\n}\n\nexport function flagDaysCalendar(\n  formattedMonth: DaysCalendarViewModel,\n  options: FlagDaysCalendarOptions\n): DaysCalendarViewModel {\n  formattedMonth.weeks.forEach((week: WeekViewModel) => {\n    /* tslint:disable-next-line: cyclomatic-complexity */\n    week.days.forEach((day: DayViewModel, dayIndex: number) => {\n      // datepicker\n      const isOtherMonth = !isSameMonth(day.date, formattedMonth.month);\n\n      const isHovered =\n        !isOtherMonth && isSameDay(day.date, options.hoveredDate);\n      // date range picker\n      const isSelectionStart =\n        !isOtherMonth &&\n        options.selectedRange &&\n        isSameDay(day.date, options.selectedRange[0]);\n      const isSelectionEnd =\n        !isOtherMonth &&\n        options.selectedRange &&\n        isSameDay(day.date, options.selectedRange[1]);\n\n      const isSelected =\n        (!isOtherMonth && isSameDay(day.date, options.selectedDate)) ||\n        isSelectionStart ||\n        isSelectionEnd;\n\n      const isInRange =\n        !isOtherMonth &&\n        options.selectedRange &&\n        isDateInRange(day.date, options.selectedRange, options.hoveredDate);\n\n      const isDisabled =\n        options.isDisabled ||\n        isBefore(day.date, options.minDate, 'day') ||\n        isAfter(day.date, options.maxDate, 'day') ||\n        isDisabledDay(day.date, options.daysDisabled) ||\n        isDisabledDate(day.date, options.datesDisabled);\n\n      const currentDate = new Date();\n      const isToday = !isOtherMonth && isSameDay(day.date, currentDate);\n\n      // decide update or not\n      const newDay = Object.assign({}, day, {\n        isOtherMonth,\n        isHovered,\n        isSelected,\n        isSelectionStart,\n        isSelectionEnd,\n        isInRange,\n        isDisabled,\n        isToday\n      });\n\n      if (\n        day.isOtherMonth !== newDay.isOtherMonth ||\n        day.isHovered !== newDay.isHovered ||\n        day.isSelected !== newDay.isSelected ||\n        day.isSelectionStart !== newDay.isSelectionStart ||\n        day.isSelectionEnd !== newDay.isSelectionEnd ||\n        day.isDisabled !== newDay.isDisabled ||\n        day.isInRange !== newDay.isInRange\n      ) {\n        week.days[dayIndex] = newDay;\n      }\n    });\n  });\n\n  // todo: add check for linked calendars\n  formattedMonth.hideLeftArrow =\n    options.isDisabled ||\n    (options.monthIndex > 0 && options.monthIndex !== options.displayMonths);\n  formattedMonth.hideRightArrow =\n    options.isDisabled ||\n    (options.monthIndex < options.displayMonths &&\n      options.monthIndex + 1 !== options.displayMonths);\n\n  formattedMonth.disableLeftArrow = isMonthDisabled(\n    shiftDate(formattedMonth.month, { month: -1 }),\n    options.minDate,\n    options.maxDate\n  );\n  formattedMonth.disableRightArrow = isMonthDisabled(\n    shiftDate(formattedMonth.month, { month: 1 }),\n    options.minDate,\n    options.maxDate\n  );\n\n  return formattedMonth;\n}\n\nfunction isDateInRange(\n  date: Date,\n  selectedRange: Date[],\n  hoveredDate: Date\n): boolean {\n  if (!date || !selectedRange[0]) {\n    return false;\n  }\n\n  if (selectedRange[1]) {\n    return date > selectedRange[0] && date <= selectedRange[1];\n  }\n\n  if (hoveredDate) {\n    return date > selectedRange[0] && date <= hoveredDate;\n  }\n\n  return false;\n}\n","import { BsDatepickerViewMode } from '../models';\n\nexport function canSwitchMode(mode: BsDatepickerViewMode, minMode?: BsDatepickerViewMode): boolean {\n  return minMode ? mode >= minMode : true;\n}\n","import {\n  DatepickerFormatOptions,\n  MonthsCalendarViewModel,\n  CalendarCellViewModel\n} from '../models';\nimport { startOf, formatDate } from 'ngx-bootstrap/chronos';\nimport { createMatrix } from '../utils/matrix-utils';\n\nconst height = 4;\nconst width = 3;\nconst shift = { month: 1 };\n\nexport function formatMonthsCalendar(\n  viewDate: Date,\n  formatOptions: DatepickerFormatOptions\n): MonthsCalendarViewModel {\n  const initialDate = startOf(viewDate, 'year');\n  const matrixOptions = { width, height, initialDate, shift };\n  const monthMatrix = createMatrix<\n    CalendarCellViewModel\n  >(matrixOptions, date => ({\n    date,\n    label: formatDate(date, formatOptions.monthLabel, formatOptions.locale)\n  }));\n\n  return {\n    months: monthMatrix,\n    monthTitle: '',\n    yearTitle: formatDate(\n      viewDate,\n      formatOptions.yearTitle,\n      formatOptions.locale\n    )\n  };\n}\n","import { isSameMonth, shiftDate } from 'ngx-bootstrap/chronos';\nimport {\n  MonthsCalendarViewModel,\n  CalendarCellViewModel\n} from '../models';\nimport { isMonthDisabled, isYearDisabled } from '../utils/bs-calendar-utils';\n\nexport interface FlagMonthCalendarOptions {\n  isDisabled: boolean;\n  minDate: Date;\n  maxDate: Date;\n  hoveredMonth: Date;\n  displayMonths: number;\n  monthIndex: number;\n}\n\nexport function flagMonthsCalendar(\n  monthCalendar: MonthsCalendarViewModel,\n  options: FlagMonthCalendarOptions\n): MonthsCalendarViewModel {\n  monthCalendar.months.forEach(\n    (months: CalendarCellViewModel[], rowIndex: number) => {\n      months.forEach((month: CalendarCellViewModel, monthIndex: number) => {\n        const isHovered = isSameMonth(month.date, options.hoveredMonth);\n        const isDisabled =\n          options.isDisabled ||\n          isMonthDisabled(month.date, options.minDate, options.maxDate);\n        const newMonth = Object.assign(/*{},*/ month, {\n          isHovered,\n          isDisabled\n        });\n        if (\n          month.isHovered !== newMonth.isHovered ||\n          month.isDisabled !== newMonth.isDisabled\n        ) {\n          monthCalendar.months[rowIndex][monthIndex] = newMonth;\n        }\n      });\n    }\n  );\n\n  // todo: add check for linked calendars\n  monthCalendar.hideLeftArrow =\n    options.monthIndex > 0 && options.monthIndex !== options.displayMonths;\n  monthCalendar.hideRightArrow =\n    options.monthIndex < options.displayMonths &&\n    options.monthIndex + 1 !== options.displayMonths;\n\n  monthCalendar.disableLeftArrow = isYearDisabled(\n    shiftDate(monthCalendar.months[0][0].date, { year: -1 }),\n    options.minDate,\n    options.maxDate\n  );\n  monthCalendar.disableRightArrow = isYearDisabled(\n    shiftDate(monthCalendar.months[0][0].date, { year: 1 }),\n    options.minDate,\n    options.maxDate\n  );\n\n  return monthCalendar;\n}\n","import {\n  DatepickerFormatOptions,\n  YearsCalendarViewModel,\n  CalendarCellViewModel\n} from '../models';\nimport { shiftDate, formatDate } from 'ngx-bootstrap/chronos';\nimport { createMatrix } from '../utils/matrix-utils';\n\nconst height = 4;\nconst width = 4;\nexport const yearsPerCalendar = height * width;\nconst initialShift = (Math.floor(yearsPerCalendar / 2) - 1) * -1;\nconst shift = { year: 1 };\n\nexport function formatYearsCalendar(\n  viewDate: Date,\n  formatOptions: DatepickerFormatOptions\n): YearsCalendarViewModel {\n  const initialDate = shiftDate(viewDate, { year: initialShift });\n  const matrixOptions = { width, height, initialDate, shift };\n  const yearsMatrix = createMatrix<\n    CalendarCellViewModel\n  >(matrixOptions, date => ({\n    date,\n    label: formatDate(date, formatOptions.yearLabel, formatOptions.locale)\n  }));\n  const yearTitle = formatYearRangeTitle(yearsMatrix, formatOptions);\n\n  return {\n    years: yearsMatrix,\n    monthTitle: '',\n    yearTitle\n  };\n}\n\nfunction formatYearRangeTitle(\n  yearsMatrix: CalendarCellViewModel[][],\n  formatOptions: DatepickerFormatOptions\n): string {\n  const from = formatDate(\n    yearsMatrix[0][0].date,\n    formatOptions.yearTitle,\n    formatOptions.locale\n  );\n  const to = formatDate(\n    yearsMatrix[height - 1][width - 1].date,\n    formatOptions.yearTitle,\n    formatOptions.locale\n  );\n\n  return `${from} - ${to}`;\n}\n","import { isSameYear, shiftDate } from 'ngx-bootstrap/chronos';\nimport { YearsCalendarViewModel, CalendarCellViewModel } from '../models';\nimport { isYearDisabled } from '../utils/bs-calendar-utils';\n\nexport interface FlagYearsCalendarOptions {\n  isDisabled: boolean;\n  minDate: Date;\n  maxDate: Date;\n  hoveredYear: Date;\n  displayMonths: number;\n  yearIndex: number;\n}\n\nexport function flagYearsCalendar(\n  yearsCalendar: YearsCalendarViewModel,\n  options: FlagYearsCalendarOptions\n): YearsCalendarViewModel {\n  yearsCalendar.years.forEach(\n    (years: CalendarCellViewModel[], rowIndex: number) => {\n      years.forEach((year: CalendarCellViewModel, yearIndex: number) => {\n        const isHovered = isSameYear(year.date, options.hoveredYear);\n        const isDisabled =\n          options.isDisabled ||\n          isYearDisabled(year.date, options.minDate, options.maxDate);\n\n        const newMonth = Object.assign(/*{},*/ year, { isHovered, isDisabled });\n        if (\n          year.isHovered !== newMonth.isHovered ||\n          year.isDisabled !== newMonth.isDisabled\n        ) {\n          yearsCalendar.years[rowIndex][yearIndex] = newMonth;\n        }\n      });\n    }\n  );\n\n  // todo: add check for linked calendars\n  yearsCalendar.hideLeftArrow =\n    options.yearIndex > 0 && options.yearIndex !== options.displayMonths;\n  yearsCalendar.hideRightArrow =\n    options.yearIndex < options.displayMonths &&\n    options.yearIndex + 1 !== options.displayMonths;\n\n  yearsCalendar.disableLeftArrow = isYearDisabled(\n    shiftDate(yearsCalendar.years[0][0].date, { year: -1 }),\n    options.minDate,\n    options.maxDate\n  );\n  const i = yearsCalendar.years.length - 1;\n  const j = yearsCalendar.years[i].length - 1;\n  yearsCalendar.disableRightArrow = isYearDisabled(\n    shiftDate(yearsCalendar.years[i][j].date, { year: 1 }),\n    options.minDate,\n    options.maxDate\n  );\n\n  return yearsCalendar;\n}\n","// tslint:disable:max-file-line-count\nimport { BsDatepickerState, initialDatepickerState } from './bs-datepicker.state';\nimport { Action } from 'ngx-bootstrap/mini-ngrx';\nimport { BsDatepickerActions } from './bs-datepicker.actions';\nimport { calcDaysCalendar } from '../engine/calc-days-calendar';\nimport { formatDaysCalendar } from '../engine/format-days-calendar';\nimport { flagDaysCalendar } from '../engine/flag-days-calendar';\nimport {\n  setFullDate,\n  shiftDate,\n  isArray,\n  isDateValid,\n  startOf,\n  getLocale,\n  isAfter,\n  isBefore\n} from 'ngx-bootstrap/chronos';\nimport { canSwitchMode } from '../engine/view-mode';\nimport { formatMonthsCalendar } from '../engine/format-months-calendar';\nimport { flagMonthsCalendar } from '../engine/flag-months-calendar';\nimport { formatYearsCalendar, yearsPerCalendar } from '../engine/format-years-calendar';\nimport { flagYearsCalendar } from '../engine/flag-years-calendar';\nimport { BsViewNavigationEvent, DatepickerFormatOptions, BsDatepickerViewMode } from '../models';\n\n\n/* tslint:disable-next-line: cyclomatic-complexity */\nexport function bsDatepickerReducer(state = initialDatepickerState,\n                                    action: Action): BsDatepickerState {\n  switch (action.type) {\n    case BsDatepickerActions.CALCULATE: {\n      return calculateReducer(state);\n    }\n\n    case BsDatepickerActions.FORMAT: {\n      return formatReducer(state, action);\n    }\n\n    case BsDatepickerActions.FLAG: {\n      return flagReducer(state, action);\n    }\n\n    case BsDatepickerActions.NAVIGATE_OFFSET: {\n      const date = shiftDate(startOf(state.view.date, 'month'), action.payload);\n      const newState = {\n        view: {\n          mode: state.view.mode,\n          date\n        }\n      };\n\n      return Object.assign({}, state, newState);\n    }\n\n    case BsDatepickerActions.NAVIGATE_TO: {\n      const payload: BsViewNavigationEvent = action.payload;\n\n      const date = setFullDate(state.view.date, payload.unit);\n      let newState;\n      let mode: BsDatepickerViewMode;\n      if (canSwitchMode(payload.viewMode, state.minMode)) {\n        mode = payload.viewMode;\n        newState = { view: { date, mode } };\n      } else {\n        mode = state.view.mode;\n        newState = { selectedDate: date, view: { date, mode } };\n      }\n\n      return Object.assign({}, state, newState);\n    }\n\n    case BsDatepickerActions.CHANGE_VIEWMODE: {\n      if (!canSwitchMode(action.payload, state.minMode)) {\n        return state;\n      }\n      const date = state.view.date;\n      const mode = action.payload;\n      const newState = { view: { date, mode } };\n\n      return Object.assign({}, state, newState);\n    }\n\n    case BsDatepickerActions.HOVER: {\n      return Object.assign({}, state, { hoveredDate: action.payload });\n    }\n\n    case BsDatepickerActions.SELECT: {\n      const newState = {\n        selectedDate: action.payload,\n        view: state.view\n      };\n\n      const mode = state.view.mode;\n      const _date = action.payload || state.view.date;\n      const date = getViewDate(_date, state.minDate, state.maxDate);\n      newState.view = { mode, date };\n\n      return Object.assign({}, state, newState);\n    }\n\n    case BsDatepickerActions.SET_OPTIONS: {\n      const newState = action.payload;\n      // preserve view mode\n      const mode = newState.minMode ? newState.minMode : state.view.mode;\n      const _viewDate = isDateValid(newState.value) && newState.value\n        || isArray(newState.value) && isDateValid(newState.value[0]) && newState.value[0]\n        || state.view.date;\n      const date = getViewDate(_viewDate, newState.minDate, newState.maxDate);\n      newState.view = { mode, date };\n      // update selected value\n      if (newState.value) {\n        // if new value is array we work with date range\n        if (isArray(newState.value)) {\n          newState.selectedRange = newState.value;\n        }\n\n        // if new value is a date -> datepicker\n        if (newState.value instanceof Date) {\n          newState.selectedDate = newState.value;\n        }\n\n        // provided value is not supported :)\n        // need to report it somehow\n      }\n\n      return Object.assign({}, state, newState);\n    }\n\n    // date range picker\n    case BsDatepickerActions.SELECT_RANGE: {\n      const newState = {\n        selectedRange: action.payload,\n        view: state.view\n      };\n\n      const mode = state.view.mode;\n      const _date = action.payload && action.payload[0] || state.view.date;\n      const date = getViewDate(_date, state.minDate, state.maxDate);\n      newState.view = { mode, date };\n\n      return Object.assign({}, state, newState);\n    }\n\n    case BsDatepickerActions.SET_MIN_DATE: {\n      return Object.assign({}, state, {\n        minDate: action.payload\n      });\n    }\n    case BsDatepickerActions.SET_MAX_DATE: {\n      return Object.assign({}, state, {\n        maxDate: action.payload\n      });\n    }\n    case BsDatepickerActions.SET_IS_DISABLED: {\n      return Object.assign({}, state, {\n        isDisabled: action.payload\n      });\n    }\n\n    default:\n      return state;\n  }\n}\n\nfunction calculateReducer(state: BsDatepickerState): BsDatepickerState {\n  // how many calendars\n  const displayMonths = state.displayMonths;\n  // use selected date on initial rendering if set\n  let viewDate = state.view.date;\n\n  if (state.view.mode === 'day') {\n    state.monthViewOptions.firstDayOfWeek = getLocale(state.locale).firstDayOfWeek();\n    const monthsModel = new Array(displayMonths);\n    for (let monthIndex = 0; monthIndex < displayMonths; monthIndex++) {\n      // todo: for unlinked calendars it will be harder\n      monthsModel[monthIndex] = calcDaysCalendar(\n        viewDate,\n        state.monthViewOptions\n      );\n      viewDate = shiftDate(viewDate, { month: 1 });\n    }\n\n    return Object.assign({}, state, { monthsModel });\n  }\n\n  if (state.view.mode === 'month') {\n    const monthsCalendar = new Array(displayMonths);\n    for (\n      let calendarIndex = 0;\n      calendarIndex < displayMonths;\n      calendarIndex++\n    ) {\n      // todo: for unlinked calendars it will be harder\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\n        viewDate,\n        getFormatOptions(state)\n      );\n      viewDate = shiftDate(viewDate, { year: 1 });\n    }\n\n    return Object.assign({}, state, { monthsCalendar });\n  }\n\n  if (state.view.mode === 'year') {\n    const yearsCalendarModel = new Array(displayMonths);\n\n    for (\n      let calendarIndex = 0;\n      calendarIndex < displayMonths;\n      calendarIndex++\n    ) {\n      // todo: for unlinked calendars it will be harder\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\n        viewDate,\n        getFormatOptions(state)\n      );\n      viewDate = shiftDate(viewDate, { year: yearsPerCalendar });\n    }\n\n    return Object.assign({}, state, { yearsCalendarModel });\n  }\n\n  return state;\n}\n\nfunction formatReducer(state: BsDatepickerState,\n                       action: Action): BsDatepickerState {\n  if (state.view.mode === 'day') {\n    const formattedMonths = state.monthsModel.map((month, monthIndex) =>\n      formatDaysCalendar(month, getFormatOptions(state), monthIndex)\n    );\n\n    return Object.assign({}, state, { formattedMonths });\n  }\n\n  // how many calendars\n  const displayMonths = state.displayMonths;\n  // check initial rendering\n  // use selected date on initial rendering if set\n  let viewDate = state.view.date;\n\n  if (state.view.mode === 'month') {\n    const monthsCalendar = new Array(displayMonths);\n    for (\n      let calendarIndex = 0;\n      calendarIndex < displayMonths;\n      calendarIndex++\n    ) {\n      // todo: for unlinked calendars it will be harder\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\n        viewDate,\n        getFormatOptions(state)\n      );\n      viewDate = shiftDate(viewDate, { year: 1 });\n    }\n\n    return Object.assign({}, state, { monthsCalendar });\n  }\n\n  if (state.view.mode === 'year') {\n    const yearsCalendarModel = new Array(displayMonths);\n    for (\n      let calendarIndex = 0;\n      calendarIndex < displayMonths;\n      calendarIndex++\n    ) {\n      // todo: for unlinked calendars it will be harder\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\n        viewDate,\n        getFormatOptions(state)\n      );\n      viewDate = shiftDate(viewDate, { year: 16 });\n    }\n\n    return Object.assign({}, state, { yearsCalendarModel });\n  }\n\n  return state;\n}\n\nfunction flagReducer(state: BsDatepickerState,\n                     action: Action): BsDatepickerState {\n  if (state.view.mode === 'day') {\n    const flaggedMonths = state.formattedMonths.map(\n      (formattedMonth, monthIndex) =>\n        flagDaysCalendar(formattedMonth, {\n          isDisabled: state.isDisabled,\n          minDate: state.minDate,\n          maxDate: state.maxDate,\n          daysDisabled: state.daysDisabled,\n          datesDisabled: state.datesDisabled,\n          hoveredDate: state.hoveredDate,\n          selectedDate: state.selectedDate,\n          selectedRange: state.selectedRange,\n          displayMonths: state.displayMonths,\n          monthIndex\n        })\n    );\n\n    return Object.assign({}, state, { flaggedMonths });\n  }\n\n  if (state.view.mode === 'month') {\n    const flaggedMonthsCalendar = state.monthsCalendar.map(\n      (formattedMonth, monthIndex) =>\n        flagMonthsCalendar(formattedMonth, {\n          isDisabled: state.isDisabled,\n          minDate: state.minDate,\n          maxDate: state.maxDate,\n          hoveredMonth: state.hoveredMonth,\n          displayMonths: state.displayMonths,\n          monthIndex\n        })\n    );\n\n    return Object.assign({}, state, { flaggedMonthsCalendar });\n  }\n\n  if (state.view.mode === 'year') {\n    const yearsCalendarFlagged = state.yearsCalendarModel.map(\n      (formattedMonth, yearIndex) =>\n        flagYearsCalendar(formattedMonth, {\n          isDisabled: state.isDisabled,\n          minDate: state.minDate,\n          maxDate: state.maxDate,\n          hoveredYear: state.hoveredYear,\n          displayMonths: state.displayMonths,\n          yearIndex\n        })\n    );\n\n    return Object.assign({}, state, { yearsCalendarFlagged });\n  }\n\n  return state;\n}\n\nfunction getFormatOptions(state: BsDatepickerState): DatepickerFormatOptions {\n  return {\n    locale: state.locale,\n\n    monthTitle: state.monthTitle,\n    yearTitle: state.yearTitle,\n\n    dayLabel: state.dayLabel,\n    monthLabel: state.monthLabel,\n    yearLabel: state.yearLabel,\n\n    weekNumbers: state.weekNumbers\n  };\n}\n\n/**\n * if view date is provided (bsValue|ngModel) it should be shown\n * if view date is not provider:\n * if minDate>currentDate (default view value), show minDate\n * if maxDate<currentDate(default view value) show maxDate\n */\nfunction getViewDate(viewDate: Date | Date[], minDate: Date, maxDate: Date) {\n  const _date = Array.isArray(viewDate) ? viewDate[0] : viewDate;\n\n  if (minDate && isAfter(minDate, _date, 'day')) {\n    return minDate;\n  }\n\n  if (maxDate && isBefore(maxDate, _date, 'day')) {\n    return maxDate;\n  }\n\n  return _date;\n}\n","import { Injectable } from '@angular/core';\nimport { MiniStore, Action, MiniState } from 'ngx-bootstrap/mini-ngrx';\nimport { BsDatepickerState, initialDatepickerState } from './bs-datepicker.state';\nimport { BehaviorSubject } from 'rxjs';\nimport { bsDatepickerReducer } from './bs-datepicker.reducer';\n\n@Injectable()\nexport class BsDatepickerStore extends MiniStore<BsDatepickerState> {\n  constructor() {\n    const _dispatcher = new BehaviorSubject<Action>({\n      type: '[datepicker] dispatcher init'\n    });\n    const state = new MiniState<BsDatepickerState>(\n      initialDatepickerState,\n      _dispatcher,\n      bsDatepickerReducer\n    );\n    super(_dispatcher, bsDatepickerReducer, state);\n  }\n}\n","import { Component, EventEmitter, OnDestroy, OnInit } from '@angular/core';\n\nimport { BsDatepickerAbstractComponent } from '../../base/bs-datepicker-container';\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\nimport { DayViewModel } from '../../models';\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'bs-datepicker-container',\n  providers: [BsDatepickerStore, BsDatepickerEffects],\n  templateUrl: './bs-datepicker-view.html',\n  host: {\n    '(click)': '_stopPropagation($event)',\n    style: 'position: absolute; display: block;',\n    role: 'dialog',\n    'aria-label': 'calendar'\n  }\n})\nexport class BsDatepickerContainerComponent extends BsDatepickerAbstractComponent\n  implements OnInit, OnDestroy {\n  set value(value: Date) {\n    this._effects.setValue(value);\n  }\n  valueChange: EventEmitter<Date> = new EventEmitter<Date>();\n\n  _subs: Subscription[] = [];\n  constructor(\n    private _config: BsDatepickerConfig,\n    private _store: BsDatepickerStore,\n    private _actions: BsDatepickerActions,\n    _effects: BsDatepickerEffects,\n    private _positionService: PositioningService\n  ) {\n    super();\n    this._effects = _effects;\n  }\n\n  ngOnInit(): void {\n    this._positionService.setOptions({\n      modifiers: {\n        flip: {\n          enabled: this._config.adaptivePosition\n        }\n      }\n    });\n\n    this.isOtherMonthsActive = this._config.selectFromOtherMonth;\n    this.containerClass = this._config.containerClass;\n    this._effects\n      .init(this._store)\n      // intial state options\n      .setOptions(this._config)\n      // data binding view --> model\n      .setBindings(this)\n      // set event handlers\n      .setEventHandlers(this)\n      .registerDatepickerSideEffects();\n\n    // todo: move it somewhere else\n    // on selected date change\n    this._subs.push(\n      this._store\n        /* tslint:disable-next-line: no-any */\n        .select((state: any) => state.selectedDate)\n        /* tslint:disable-next-line: no-any */\n        .subscribe((date: any) => this.valueChange.emit(date))\n    );\n  }\n\n  daySelectHandler(day: DayViewModel): void {\n    const isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);\n\n    if (isDisabled) {\n      return;\n    }\n\n    this._store.dispatch(this._actions.select(day.date));\n  }\n\n  ngOnDestroy(): void {\n    for (const sub of this._subs) {\n      sub.unsubscribe();\n    }\n    this._effects.destroy();\n  }\n}\n","import {\n  ComponentRef, Directive, ElementRef, EventEmitter, Input, OnChanges,\n  OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewContainerRef\n} from '@angular/core';\nimport { ComponentLoader, ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { BsDatepickerContainerComponent } from './themes/bs/bs-datepicker-container.component';\nimport { Subscription } from 'rxjs';\nimport { BsDatepickerConfig } from './bs-datepicker.config';\nimport { BsDatepickerViewMode } from './models';\n\n@Directive({\n  selector: '[bsDatepicker]',\n  exportAs: 'bsDatepicker'\n})\nexport class BsDatepickerDirective implements OnInit, OnDestroy, OnChanges {\n  /**\n   * Placement of a datepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n   */\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\n  /**\n   * Specifies events that should trigger. Supports a space separated list of\n   * event names.\n   */\n  @Input() triggers = 'click';\n  /**\n   * Close datepicker on outside click\n   */\n  @Input() outsideClick = true;\n  /**\n   * A selector specifying the element the datepicker should be appended to.\n   * Currently only supports \"body\".\n   */\n  @Input() container = 'body';\n\n  @Input() outsideEsc = true;\n\n  /**\n   * Returns whether or not the datepicker is currently being shown\n   */\n  @Input()\n  get isOpen(): boolean {\n    return this._datepicker.isShown;\n  }\n\n  set isOpen(value: boolean) {\n    if (value) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n\n  /**\n   * Emits an event when the datepicker is shown\n   */\n  /* tslint:disable-next-line: no-any*/\n  @Output() onShown: EventEmitter<any>;\n  /**\n   * Emits an event when the datepicker is hidden\n   */\n  /* tslint:disable-next-line: no-any*/\n  @Output() onHidden: EventEmitter<any>;\n\n  _bsValue: Date;\n  /**\n   * Initial value of datepicker\n   */\n  @Input()\n  set bsValue(value: Date) {\n    if (this._bsValue === value) {\n      return;\n    }\n    this._bsValue = value;\n    this.bsValueChange.emit(value);\n  }\n\n  /**\n   * Config object for datepicker\n   */\n  @Input() bsConfig: Partial<BsDatepickerConfig>;\n  /**\n   * Indicates whether datepicker's content is enabled or not\n   */\n  @Input() isDisabled: boolean;\n  /**\n   * Minimum date which is available for selection\n   */\n  @Input() minDate: Date;\n  /**\n   * Maximum date which is available for selection\n   */\n  @Input() maxDate: Date;\n\n  /**\n   * Minimum view mode : day, month, or year\n   */\n  @Input() minMode: BsDatepickerViewMode;\n\n  /**\n   * Disable Certain days in the week\n   */\n  @Input() daysDisabled: number[];\n\n  /**\n   * Disable specific dates\n   */\n  @Input() datesDisabled: Date[];\n  /**\n   * Emits when datepicker value has been changed\n   */\n  @Output() bsValueChange: EventEmitter<Date> = new EventEmitter();\n\n  protected _subs: Subscription[] = [];\n\n  private _datepicker: ComponentLoader<BsDatepickerContainerComponent>;\n  private _datepickerRef: ComponentRef<BsDatepickerContainerComponent>;\n\n  constructor(public _config: BsDatepickerConfig,\n              _elementRef: ElementRef,\n              _renderer: Renderer2,\n              _viewContainerRef: ViewContainerRef,\n              cis: ComponentLoaderFactory) {\n    // todo: assign only subset of fields\n    Object.assign(this, this._config);\n    this._datepicker = cis.createLoader<BsDatepickerContainerComponent>(\n      _elementRef,\n      _viewContainerRef,\n      _renderer\n    );\n    this.onShown = this._datepicker.onShown;\n    this.onHidden = this._datepicker.onHidden;\n  }\n\n  ngOnInit(): void {\n    this._datepicker.listen({\n      outsideClick: this.outsideClick,\n      outsideEsc: this.outsideEsc,\n      triggers: this.triggers,\n      show: () => this.show()\n    });\n    this.setConfig();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\n      return;\n    }\n\n    if (changes.minDate) {\n      this._datepickerRef.instance.minDate = this.minDate;\n    }\n\n    if (changes.maxDate) {\n      this._datepickerRef.instance.maxDate = this.maxDate;\n    }\n\n    if (changes.daysDisabled) {\n      this._datepickerRef.instance.daysDisabled = this.daysDisabled;\n    }\n\n    if (changes.datesDisabled) {\n      this._datepickerRef.instance.datesDisabled = this.datesDisabled;\n    }\n\n    if (changes.isDisabled) {\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\n    }\n  }\n\n  /**\n   * Opens an elements datepicker. This is considered a manual triggering of\n   * the datepicker.\n   */\n  show(): void {\n    if (this._datepicker.isShown) {\n      return;\n    }\n\n    this.setConfig();\n\n    this._datepickerRef = this._datepicker\n      .provide({provide: BsDatepickerConfig, useValue: this._config})\n      .attach(BsDatepickerContainerComponent)\n      .to(this.container)\n      .position({attachment: this.placement})\n      .show({placement: this.placement});\n\n    // if date changes from external source (model -> view)\n    this._subs.push(\n      this.bsValueChange.subscribe((value: Date) => {\n        this._datepickerRef.instance.value = value;\n      })\n    );\n\n    // if date changes from picker (view -> model)\n    this._subs.push(\n      this._datepickerRef.instance.valueChange.subscribe((value: Date) => {\n        this.bsValue = value;\n        this.hide();\n      })\n    );\n  }\n\n  /**\n   * Closes an elements datepicker. This is considered a manual triggering of\n   * the datepicker.\n   */\n  hide(): void {\n    if (this.isOpen) {\n      this._datepicker.hide();\n    }\n    for (const sub of this._subs) {\n      sub.unsubscribe();\n    }\n  }\n\n  /**\n   * Toggles an elements datepicker. This is considered a manual triggering\n   * of the datepicker.\n   */\n  toggle(): void {\n    if (this.isOpen) {\n      return this.hide();\n    }\n\n    this.show();\n  }\n\n  /**\n   * Set config for datepicker\n   */\n  setConfig(): void {\n    this._config = Object.assign({}, this._config, this.bsConfig, {\n      value: this._bsValue,\n      isDisabled: this.isDisabled,\n      minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\n      maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\n      daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,\n      datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\n      minMode: this.minMode || this.bsConfig && this.bsConfig.minMode\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._datepicker.dispose();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BsDatepickerConfig } from './bs-datepicker.config';\n\n@Injectable()\nexport class BsDatepickerInlineConfig extends BsDatepickerConfig { }\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BsDatepickerContainerComponent } from './bs-datepicker-container.component';\n\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\n\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n@Component({\n  selector: 'bs-datepicker-inline-container',\n  providers: [BsDatepickerStore, BsDatepickerEffects],\n  templateUrl: './bs-datepicker-view.html',\n  host: {\n    '(click)': '_stopPropagation($event)',\n    style: 'display: inline-block;'\n  }\n})\nexport class BsDatepickerInlineContainerComponent extends BsDatepickerContainerComponent\n  implements OnInit, OnDestroy {\n  constructor(\n    _config: BsDatepickerConfig,\n    _store: BsDatepickerStore,\n    _actions: BsDatepickerActions,\n    _effects: BsDatepickerEffects,\n    _positioningService: PositioningService\n  ) {\n    super(_config, _store, _actions, _effects, _positioningService);\n  }\n}\n","import {\n  ComponentRef, Directive, ElementRef, EventEmitter, Input, OnChanges,\n  OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewContainerRef\n} from '@angular/core';\nimport { ComponentLoader, ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { BsDatepickerInlineContainerComponent } from './themes/bs/bs-datepicker-inline-container.component';\nimport { Subscription } from 'rxjs';\nimport { BsDatepickerInlineConfig } from './bs-datepicker-inline.config';\nimport { BsDatepickerConfig } from './bs-datepicker.config';\n\n@Directive({\n  selector: 'bs-datepicker-inline',\n  exportAs: 'bsDatepickerInline'\n})\nexport class BsDatepickerInlineDirective implements OnInit, OnDestroy, OnChanges {\n  _bsValue: Date;\n  /**\n   * Initial value of datepicker\n   */\n  @Input()\n  set bsValue(value: Date) {\n    if (this._bsValue === value) {\n      return;\n    }\n    this._bsValue = value;\n    this.bsValueChange.emit(value);\n  }\n\n  /**\n   * Config object for datepicker\n   */\n  @Input() bsConfig: Partial<BsDatepickerInlineConfig>;\n  /**\n   * Indicates whether datepicker is enabled or not\n   */\n  @Input() isDisabled: boolean;\n  /**\n   * Minimum date which is available for selection\n   */\n  @Input() minDate: Date;\n  /**\n   * Maximum date which is available for selection\n   */\n  @Input() maxDate: Date;\n  /**\n   * Disable specific dates\n   */\n  @Input() datesDisabled: Date[];\n  /**\n   * Emits when datepicker value has been changed\n   */\n  @Output() bsValueChange: EventEmitter<Date> = new EventEmitter();\n\n  protected _subs: Subscription[] = [];\n\n  private _datepicker: ComponentLoader<BsDatepickerInlineContainerComponent>;\n  private _datepickerRef: ComponentRef<BsDatepickerInlineContainerComponent>;\n\n  constructor(public _config: BsDatepickerInlineConfig,\n              private _elementRef: ElementRef,\n              _renderer: Renderer2,\n              _viewContainerRef: ViewContainerRef,\n              cis: ComponentLoaderFactory) {\n    // todo: assign only subset of fields\n    Object.assign(this, this._config);\n    this._datepicker = cis.createLoader<BsDatepickerInlineContainerComponent>(\n      _elementRef,\n      _viewContainerRef,\n      _renderer\n    );\n  }\n\n  ngOnInit(): void {\n    this.setConfig();\n\n    this._datepickerRef = this._datepicker\n      .provide({provide: BsDatepickerConfig, useValue: this._config})\n      .attach(BsDatepickerInlineContainerComponent)\n      .to(this._elementRef)\n      .show();\n\n    // if date changes from external source (model -> view)\n    this._subs.push(\n      this.bsValueChange.subscribe((value: Date) => {\n        this._datepickerRef.instance.value = value;\n      })\n    );\n\n    // if date changes from picker (view -> model)\n    this._subs.push(\n      this._datepickerRef.instance.valueChange.subscribe((value: Date) => {\n        this.bsValue = value;\n      })\n    );\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\n      return;\n    }\n\n    if (changes.minDate) {\n      this._datepickerRef.instance.minDate = this.minDate;\n    }\n\n    if (changes.maxDate) {\n      this._datepickerRef.instance.maxDate = this.maxDate;\n    }\n\n    if (changes.datesDisabled) {\n      this._datepickerRef.instance.datesDisabled = this.datesDisabled;\n    }\n\n    if (changes.isDisabled) {\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\n    }\n  }\n\n  /**\n   * Set config for datepicker\n   */\n  setConfig(): void {\n    this._config = Object.assign({}, this._config, this.bsConfig, {\n      value: this._bsValue,\n      isDisabled: this.isDisabled,\n      minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\n      maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\n      datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled\n    });\n  }\n\n  ngOnDestroy(): any {\n    this._datepicker.dispose();\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  forwardRef,\n  Host,\n  Provider,\n  Renderer2\n} from '@angular/core';\n\nimport {\n  AbstractControl,\n  ControlValueAccessor,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\n\nimport {\n  parseDate,\n  formatDate,\n  getLocale,\n  isAfter,\n  isBefore,\n  isDate,\n  isDateValid\n} from 'ngx-bootstrap/chronos';\n\nimport { BsDatepickerDirective } from './bs-datepicker.component';\nimport { BsLocaleService } from './bs-locale.service';\n\nconst BS_DATEPICKER_VALUE_ACCESSOR: Provider = {\n  provide: NG_VALUE_ACCESSOR,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => BsDatepickerInputDirective),\n  multi: true\n};\n\nconst BS_DATEPICKER_VALIDATOR: Provider = {\n  provide: NG_VALIDATORS,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => BsDatepickerInputDirective),\n  multi: true\n};\n\n@Directive({\n  selector: `input[bsDatepicker]`,\n  host: {\n    '(change)': 'onChange($event)',\n    '(keyup.esc)': 'hide()',\n    '(blur)': 'onBlur()'\n  },\n  providers: [BS_DATEPICKER_VALUE_ACCESSOR, BS_DATEPICKER_VALIDATOR]\n})\nexport class BsDatepickerInputDirective\n  implements ControlValueAccessor, Validator {\n  private _onChange = Function.prototype;\n  private _onTouched = Function.prototype;\n  /* tslint:disable-next-line: no-unused-variable */\n  private _validatorChange = Function.prototype;\n  private _value: Date;\n\n  constructor(@Host() private _picker: BsDatepickerDirective,\n              private _localeService: BsLocaleService,\n              private _renderer: Renderer2,\n              private _elRef: ElementRef,\n              private changeDetection: ChangeDetectorRef) {\n    // update input value on datepicker value update\n    this._picker.bsValueChange.subscribe((value: Date) => {\n      this._setInputValue(value);\n      if (this._value !== value) {\n        this._value = value;\n        this._onChange(value);\n        this._onTouched();\n      }\n      this.changeDetection.markForCheck();\n    });\n\n    // update input value on locale change\n    this._localeService.localeChange.subscribe(() => {\n      this._setInputValue(this._value);\n    });\n  }\n\n  _setInputValue(value: Date): void {\n    const initialDate = !value ? ''\n      : formatDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\n\n    this._renderer.setProperty(this._elRef.nativeElement, 'value', initialDate);\n  }\n\n  onChange(event: Event) {\n    /* tslint:disable-next-line: no-any*/\n    this.writeValue((event.target as any).value);\n    this._onChange(this._value);\n    this._onTouched();\n  }\n\n  validate(c: AbstractControl): ValidationErrors | null {\n    const _value: Date | string = c.value;\n\n    /* tslint:disable-next-line: prefer-switch */\n    if (_value === null || _value === undefined || _value === '') {\n      return null;\n    }\n\n    if (isDate(_value)) {\n      const _isDateValid = isDateValid(_value);\n      if (!_isDateValid) {\n        return { bsDate: { invalid: _value } };\n      }\n\n      if (this._picker && this._picker.minDate && isBefore(_value, this._picker.minDate, 'date')) {\n        return { bsDate: { minDate: this._picker.minDate } };\n      }\n\n      if (this._picker && this._picker.maxDate && isAfter(_value, this._picker.maxDate, 'date')) {\n        return { bsDate: { maxDate: this._picker.maxDate } };\n      }\n    }\n  }\n\n  registerOnValidatorChange(fn: () => void): void {\n    this._validatorChange = fn;\n  }\n\n  writeValue(value: Date | string) {\n    if (!value) {\n      this._value = null;\n    } else {\n      const _localeKey = this._localeService.currentLocale;\n      const _locale = getLocale(_localeKey);\n      if (!_locale) {\n        throw new Error(\n          `Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`\n        );\n      }\n      this._value = parseDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\n    }\n\n    this._picker.bsValue = this._value;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this._picker.isDisabled = isDisabled;\n    if (isDisabled) {\n      this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\n\n      return;\n    }\n    this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\n  }\n\n  registerOnChange(fn: () => void): void {\n    this._onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this._onTouched = fn;\n  }\n\n  onBlur() {\n    this._onTouched();\n  }\n\n  hide() {\n    this._picker.hide();\n    this._renderer.selectRootElement(this._elRef.nativeElement).blur();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BsDatepickerConfig } from './bs-datepicker.config';\n\n@Injectable()\nexport class BsDaterangepickerConfig extends BsDatepickerConfig {\n  // DatepickerRenderOptions\n  displayMonths = 2;\n}\n","import { Component, EventEmitter, OnDestroy, OnInit } from '@angular/core';\n\nimport { BsDatepickerAbstractComponent } from '../../base/bs-datepicker-container';\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\nimport { DayViewModel } from '../../models';\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\nimport { Subscription } from 'rxjs';\n\n\n@Component({\n  selector: 'bs-daterangepicker-container',\n  providers: [BsDatepickerStore, BsDatepickerEffects],\n  templateUrl: './bs-datepicker-view.html',\n  host: {\n    '(click)': '_stopPropagation($event)',\n    style: 'position: absolute; display: block;',\n    role: 'dialog',\n    'aria-label': 'calendar'\n  }\n})\nexport class BsDaterangepickerContainerComponent extends BsDatepickerAbstractComponent\n  implements OnInit, OnDestroy {\n  set value(value: Date[]) {\n    this._effects.setRangeValue(value);\n  }\n\n  valueChange = new EventEmitter<Date[]>();\n\n  _rangeStack: Date[] = [];\n  _subs: Subscription[] = [];\n  constructor(\n    _effects: BsDatepickerEffects,\n    private _actions: BsDatepickerActions,\n    private _config: BsDatepickerConfig,\n    private _store: BsDatepickerStore,\n    private _positionService: PositioningService\n  ) {\n    super();\n    this._effects = _effects;\n  }\n\n  ngOnInit(): void {\n    this._positionService.setOptions({\n      modifiers: {\n        flip: {\n          enabled: this._config.adaptivePosition\n        }\n      }\n    });\n\n    this.containerClass = this._config.containerClass;\n    this.isOtherMonthsActive = this._config.selectFromOtherMonth;\n    this._effects\n      .init(this._store)\n      // intial state options\n      // todo: fix this, split configs\n      .setOptions(this._config)\n      // data binding view --> model\n      .setBindings(this)\n      // set event handlers\n      .setEventHandlers(this)\n      .registerDatepickerSideEffects();\n\n    // todo: move it somewhere else\n    // on selected date change\n    this._subs.push(\n      this._store\n        .select(state => state.selectedRange)\n        .subscribe(date => this.valueChange.emit(date))\n    );\n  }\n\n  daySelectHandler(day: DayViewModel): void {\n    const isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);\n\n    if (isDisabled) {\n      return;\n    }\n\n    // if only one date is already selected\n    // and user clicks on previous date\n    // start selection from new date\n    // but if new date is after initial one\n    // than finish selection\n    if (this._rangeStack.length === 1) {\n      this._rangeStack =\n        day.date >= this._rangeStack[0]\n          ? [this._rangeStack[0], day.date]\n          : [day.date];\n    }\n\n    if (this._rangeStack.length === 0) {\n      this._rangeStack = [day.date];\n    }\n\n    this._store.dispatch(this._actions.selectRange(this._rangeStack));\n\n    if (this._rangeStack.length === 2) {\n      this._rangeStack = [];\n    }\n  }\n\n  ngOnDestroy(): void {\n    for (const sub of this._subs) {\n      sub.unsubscribe();\n    }\n    this._effects.destroy();\n  }\n}\n","import {\n  ComponentRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewContainerRef\n} from '@angular/core';\nimport { BsDaterangepickerConfig } from './bs-daterangepicker.config';\nimport { BsDaterangepickerContainerComponent } from './themes/bs/bs-daterangepicker-container.component';\nimport { Subscription } from 'rxjs';\nimport { ComponentLoaderFactory, ComponentLoader } from 'ngx-bootstrap/component-loader';\nimport { BsDatepickerConfig } from './bs-datepicker.config';\nimport { filter } from 'rxjs/operators';\n\n@Directive({\n  selector: '[bsDaterangepicker]',\n  exportAs: 'bsDaterangepicker'\n})\nexport class BsDaterangepickerDirective\n  implements OnInit, OnDestroy, OnChanges {\n  /**\n   * Placement of a daterangepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n   */\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\n  /**\n   * Specifies events that should trigger. Supports a space separated list of\n   * event names.\n   */\n  @Input() triggers = 'click';\n  /**\n   * Close daterangepicker on outside click\n   */\n  @Input() outsideClick = true;\n  /**\n   * A selector specifying the element the daterangepicker should be appended\n   * to. Currently only supports \"body\".\n   */\n  @Input() container = 'body';\n\n  @Input() outsideEsc = true;\n\n  /**\n   * Returns whether or not the daterangepicker is currently being shown\n   */\n  @Input()\n  get isOpen(): boolean {\n    return this._datepicker.isShown;\n  }\n\n  set isOpen(value: boolean) {\n    if (value) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n\n  /**\n   * Emits an event when the daterangepicker is shown\n   */\n  /* tslint:disable-next-line: no-any*/\n  @Output() onShown: EventEmitter<any>;\n  /**\n   * Emits an event when the daterangepicker is hidden\n   */\n  /* tslint:disable-next-line: no-any*/\n  @Output() onHidden: EventEmitter<any>;\n\n  _bsValue: Date[];\n  /**\n   * Initial value of daterangepicker\n   */\n  @Input()\n  set bsValue(value: Date[]) {\n    if (this._bsValue === value) {\n      return;\n    }\n    this._bsValue = value;\n    this.bsValueChange.emit(value);\n  }\n\n  /**\n   * Config object for daterangepicker\n   */\n  @Input() bsConfig: Partial<BsDaterangepickerConfig>;\n  /**\n   * Indicates whether daterangepicker's content is enabled or not\n   */\n  @Input() isDisabled: boolean;\n  /**\n   * Minimum date which is available for selection\n   */\n  @Input() minDate: Date;\n  /**\n   * Maximum date which is available for selection\n   */\n  @Input() maxDate: Date;\n  /**\n   * Disable specific dates\n   */\n  @Input() datesDisabled: Date[];\n  /**\n   * Emits when daterangepicker value has been changed\n   */\n  @Output() bsValueChange: EventEmitter<Date[]> = new EventEmitter();\n\n  protected _subs: Subscription[] = [];\n\n  private _datepicker: ComponentLoader<BsDaterangepickerContainerComponent>;\n  private _datepickerRef: ComponentRef<BsDaterangepickerContainerComponent>;\n\n  constructor(public _config: BsDaterangepickerConfig,\n              _elementRef: ElementRef,\n              _renderer: Renderer2,\n              _viewContainerRef: ViewContainerRef,\n              cis: ComponentLoaderFactory) {\n    this._datepicker = cis.createLoader<BsDaterangepickerContainerComponent>(\n      _elementRef,\n      _viewContainerRef,\n      _renderer\n    );\n    Object.assign(this, _config);\n    this.onShown = this._datepicker.onShown;\n    this.onHidden = this._datepicker.onHidden;\n  }\n\n  ngOnInit(): void {\n    this._datepicker.listen({\n      outsideClick: this.outsideClick,\n      outsideEsc: this.outsideEsc,\n      triggers: this.triggers,\n      show: () => this.show()\n    });\n    this.setConfig();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\n      return;\n    }\n\n    if (changes.minDate) {\n      this._datepickerRef.instance.minDate = this.minDate;\n    }\n\n    if (changes.maxDate) {\n      this._datepickerRef.instance.maxDate = this.maxDate;\n    }\n\n    if (changes.datesDisabled) {\n      this._datepickerRef.instance.datesDisabled = this.datesDisabled;\n    }\n\n    if (changes.isDisabled) {\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\n    }\n  }\n\n  /**\n   * Opens an elements datepicker. This is considered a manual triggering of\n   * the datepicker.\n   */\n  show(): void {\n    if (this._datepicker.isShown) {\n      return;\n    }\n\n    this.setConfig();\n\n    this._datepickerRef = this._datepicker\n      .provide({provide: BsDatepickerConfig, useValue: this._config})\n      .attach(BsDaterangepickerContainerComponent)\n      .to(this.container)\n      .position({attachment: this.placement})\n      .show({placement: this.placement});\n\n    // if date changes from external source (model -> view)\n    this._subs.push(\n      this.bsValueChange.subscribe((value: Date[]) => {\n        this._datepickerRef.instance.value = value;\n      })\n    );\n\n    // if date changes from picker (view -> model)\n    this._subs.push(\n      this._datepickerRef.instance.valueChange\n        .pipe(\n          filter((range: Date[]) => range && range[0] && !!range[1])\n        )\n        .subscribe((value: Date[]) => {\n          this.bsValue = value;\n          this.hide();\n        })\n    );\n  }\n\n  /**\n   * Set config for daterangepicker\n   */\n  setConfig() {\n    this._config = Object.assign(\n      {},\n      this._config,\n      this.bsConfig,\n      {\n        value: this._bsValue,\n        isDisabled: this.isDisabled,\n        minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\n        maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\n        datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled\n      }\n    );\n  }\n\n  /**\n   * Closes an elements datepicker. This is considered a manual triggering of\n   * the datepicker.\n   */\n  hide(): void {\n    if (this.isOpen) {\n      this._datepicker.hide();\n    }\n    for (const sub of this._subs) {\n      sub.unsubscribe();\n    }\n  }\n\n  /**\n   * Toggles an elements datepicker. This is considered a manual triggering\n   * of the datepicker.\n   */\n  toggle(): void {\n    if (this.isOpen) {\n      return this.hide();\n    }\n\n    this.show();\n  }\n\n  ngOnDestroy(): void {\n    this._datepicker.dispose();\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  forwardRef,\n  Host,\n  Provider,\n  Renderer2\n} from '@angular/core';\nimport {\n  AbstractControl,\n  ControlValueAccessor,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport { parseDate, formatDate, getLocale, isAfter, isBefore, isArray, isDateValid } from 'ngx-bootstrap/chronos';\nimport { BsDaterangepickerDirective } from './bs-daterangepicker.component';\nimport { BsLocaleService } from './bs-locale.service';\n\nconst BS_DATERANGEPICKER_VALUE_ACCESSOR: Provider = {\n  provide: NG_VALUE_ACCESSOR,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => BsDaterangepickerInputDirective),\n  multi: true\n};\n\nconst BS_DATERANGEPICKER_VALIDATOR: Provider = {\n  provide: NG_VALIDATORS,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => BsDaterangepickerInputDirective),\n  multi: true\n};\n\n\n@Directive({\n  selector: `input[bsDaterangepicker]`,\n  host: {\n    '(change)': 'onChange($event)',\n    '(keyup.esc)': 'hide()',\n    '(blur)': 'onBlur()'\n  },\n  providers: [BS_DATERANGEPICKER_VALUE_ACCESSOR, BS_DATERANGEPICKER_VALIDATOR]\n})\nexport class BsDaterangepickerInputDirective\n  implements ControlValueAccessor, Validator {\n  private _onChange = Function.prototype;\n  private _onTouched = Function.prototype;\n  /* tslint:disable-next-line: no-unused-variable */\n  private _validatorChange = Function.prototype;\n  private _value: Date[];\n\n  constructor(@Host() private _picker: BsDaterangepickerDirective,\n              private _localeService: BsLocaleService,\n              private _renderer: Renderer2,\n              private _elRef: ElementRef,\n              private changeDetection: ChangeDetectorRef) {\n    // update input value on datepicker value update\n    this._picker.bsValueChange.subscribe((value: Date[]) => {\n      this._setInputValue(value);\n      if (this._value !== value) {\n        this._value = value;\n        this._onChange(value);\n        this._onTouched();\n      }\n      this.changeDetection.markForCheck();\n    });\n\n    // update input value on locale change\n    this._localeService.localeChange.subscribe(() => {\n      this._setInputValue(this._value);\n    });\n  }\n\n  _setInputValue(date: Date[]): void {\n    let range = '';\n    if (date) {\n      const start: string = !date[0] ? ''\n        : formatDate(date[0],\n          this._picker._config.rangeInputFormat,\n          this._localeService.currentLocale\n        );\n      const end: string = !date[1] ? ''\n        : formatDate(\n          date[1],\n          this._picker._config.rangeInputFormat,\n          this._localeService.currentLocale\n        );\n      range = (start && end) ? start + this._picker._config.rangeSeparator + end : '';\n    }\n    this._renderer.setProperty(this._elRef.nativeElement, 'value', range);\n  }\n\n  onChange(event: Event) {\n    /* tslint:disable-next-line: no-any*/\n    this.writeValue((event.target as any).value);\n    this._onChange(this._value);\n    this._onTouched();\n  }\n\n  validate(c: AbstractControl): ValidationErrors | null {\n    const _value: [Date, Date] = c.value;\n\n    if (_value === null || _value === undefined || !isArray(_value)) {\n      return null;\n    }\n\n    const _isFirstDateValid = isDateValid(_value[0]);\n    const _isSecondDateValid = isDateValid(_value[1]);\n\n    if (!_isFirstDateValid) {\n      return { bsDate: { invalid: _value[0] } };\n    }\n\n    if (!_isSecondDateValid) {\n      return { bsDate: { invalid: _value[1] } };\n    }\n\n    if (this._picker && this._picker.minDate && isBefore(_value[0], this._picker.minDate, 'date')) {\n      return { bsDate: { minDate: this._picker.minDate } };\n    }\n\n    if (this._picker && this._picker.maxDate && isAfter(_value[1], this._picker.maxDate, 'date')) {\n      return { bsDate: { maxDate: this._picker.maxDate } };\n    }\n  }\n\n  registerOnValidatorChange(fn: () => void): void {\n    this._validatorChange = fn;\n  }\n\n  writeValue(value: Date[] | string) {\n    if (!value) {\n      this._value = null;\n    } else {\n      const _localeKey = this._localeService.currentLocale;\n      const _locale = getLocale(_localeKey);\n      if (!_locale) {\n        throw new Error(\n          `Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`\n        );\n      }\n\n      let _input: (string[] | Date[]) = [];\n      if (typeof value === 'string') {\n        _input = value.split(this._picker._config.rangeSeparator);\n      }\n\n      if (Array.isArray(value)) {\n        _input = value;\n      }\n\n\n      this._value = (_input as string[])\n        .map((_val: string): Date =>\n          parseDate(_val, this._picker._config.dateInputFormat, this._localeService.currentLocale))\n        .map((date: Date) => (isNaN(date.valueOf()) ? null : date));\n    }\n\n    this._picker.bsValue = this._value;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this._picker.isDisabled = isDisabled;\n    if (isDisabled) {\n      this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\n\n      return;\n    }\n    this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\n  }\n\n  /* tslint:disable-next-line: no-any*/\n  registerOnChange(fn: () => void): void {\n    this._onChange = fn;\n  }\n\n  /* tslint:disable-next-line: no-any*/\n  registerOnTouched(fn: () => void): void {\n    this._onTouched = fn;\n  }\n\n  onBlur() {\n    this._onTouched();\n  }\n\n  hide() {\n    this._picker.hide();\n    this._renderer.selectRootElement(this._elRef.nativeElement).blur();\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'bs-calendar-layout',\n  template: `\n    <!-- current date, will be added in nearest releases -->\n    <bs-current-date title=\"hey there\" *ngIf=\"false\"></bs-current-date>\n\n    <!--navigation-->\n    <div class=\"bs-datepicker-head\">\n      <ng-content select=\"bs-datepicker-navigation-view\"></ng-content>\n    </div>\n\n    <div class=\"bs-datepicker-body\">\n      <ng-content></ng-content>\n    </div>\n\n    <!--timepicker-->\n    <bs-timepicker *ngIf=\"false\"></bs-timepicker>\n  `\n})\nexport class BsCalendarLayoutComponent {}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bs-current-date',\n  template: `<div class=\"current-timedate\"><span>{{ title }}</span></div>`\n})\nexport class BsCurrentDateViewComponent {\n  @Input() title: string;\n}\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\n\nexport interface BsCustomDates {\n  label: string;\n  value: Date | Date[];\n}\n\n@Component({\n  selector: 'bs-custom-date-view',\n  template: `\n    <div class=\"bs-datepicker-predefined-btns\">\n      <button *ngFor=\"let range of ranges\">{{ range.label }}</button>\n      <button *ngIf=\"isCustomRangeShown\">Custom Range</button>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class BsCustomDatesViewComponent {\n  @Input() isCustomRangeShown: true;\n  @Input() ranges: BsCustomDates[];\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnInit,\n  Renderer2\n} from '@angular/core';\n\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\nimport { DayViewModel } from '../../models';\n\n@Component({\n  selector: '[bsDatepickerDayDecorator]',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.disabled]': 'day.isDisabled',\n    '[class.is-highlighted]': 'day.isHovered',\n    '[class.is-other-month]': 'day.isOtherMonth',\n    '[class.is-active-other-month]': 'day.isOtherMonthHovered',\n    '[class.in-range]': 'day.isInRange',\n    '[class.select-start]': 'day.isSelectionStart',\n    '[class.select-end]': 'day.isSelectionEnd',\n    '[class.selected]': 'day.isSelected'\n  },\n  template: `{{ day.label }}`\n})\nexport class BsDatepickerDayDecoratorComponent implements OnInit {\n  @Input() day: DayViewModel;\n\n  constructor(\n    private _config: BsDatepickerConfig,\n    private _elRef: ElementRef,\n    private _renderer: Renderer2\n  ) { }\n\n  ngOnInit(): void {\n    if (this.day.isToday && this._config && this._config.customTodayClass) {\n      this._renderer.addClass(this._elRef.nativeElement, this._config.customTodayClass);\n    }\n  }\n}\n","import { TimeUnit } from 'ngx-bootstrap/chronos';\n\nexport type BsDatepickerViewMode = 'day' | 'month' | 'year';\n\n/** *************** */\n// navigation bar settings\nexport interface NavigationViewModel {\n  monthTitle: string;\n  yearTitle: string;\n  hideLeftArrow?: boolean;\n  hideRightArrow?: boolean;\n  disableLeftArrow?: boolean;\n  disableRightArrow?: boolean;\n}\n\nexport interface CalendarCellViewModel {\n  date: Date;\n  label: string;\n  isDisabled?: boolean;\n  isHovered?: boolean;\n}\n\n/** *************** */\n// days matrix: day cell view model\nexport interface DayViewModel extends CalendarCellViewModel {\n  isOtherMonthHovered?: boolean;\n  isOtherMonth?: boolean;\n  isInRange?: boolean;\n  isSelectionStart?: boolean;\n  isSelectionEnd?: boolean;\n  isSelected?: boolean;\n  isToday?: boolean;\n  // day index\n  monthIndex?: number;\n  weekIndex?: number;\n  dayIndex?: number;\n}\n\nexport interface WeekViewModel {\n  days: DayViewModel[];\n  isHovered?: boolean;\n}\n\n// todo: split navigation settings\nexport interface DaysCalendarViewModel extends NavigationViewModel {\n  weeks: WeekViewModel[];\n  // additional information\n  month: Date;\n  weekNumbers: string[];\n  weekdays: string[];\n}\n\n/** *************** */\n// months calendar\nexport interface MonthsCalendarViewModel extends NavigationViewModel {\n  months: CalendarCellViewModel[][];\n}\n\n/** *************** */\n// years calendar\nexport interface YearsCalendarViewModel extends NavigationViewModel {\n  years: CalendarCellViewModel[][];\n}\n\n/** *************** */\n\n// math model\n/** *************** */\n\n// days Date's array\nexport interface DaysCalendarModel {\n  daysMatrix: Date[][];\n  month: Date;\n}\n\n/** *************** */\n// some func options\nexport interface MonthViewOptions {\n  width?: number;\n  height?: number;\n  firstDayOfWeek?: number;\n}\n\n/** *************** */\n// rendering options\nexport interface DatepickerFormatOptions {\n  locale: string;\n\n  monthTitle: string;\n  yearTitle: string;\n\n  dayLabel: string;\n  monthLabel: string;\n  yearLabel: string;\n\n  weekNumbers: string;\n}\n\nexport interface DatepickerRenderOptions {\n  showWeekNumbers?: boolean;\n  displayMonths?: number;\n}\n\n/** *************** */\n// events\n/** *************** */\nexport enum BsNavigationDirection {\n  UP,\n  DOWN\n}\n\n// used for navigation events, to change view date in state\nexport interface BsNavigationEvent {\n  direction?: BsNavigationDirection;\n  step?: TimeUnit;\n}\n\nexport interface BsViewNavigationEvent {\n  unit?: TimeUnit;\n  viewMode: BsDatepickerViewMode;\n}\n\nexport interface CellHoverEvent {\n  cell: CalendarCellViewModel;\n  isHovered: boolean;\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  Output\n} from '@angular/core';\nimport {\n  BsDatepickerViewMode,\n  BsNavigationDirection,\n  DaysCalendarViewModel\n} from '../../models';\n\n@Component({\n  selector: 'bs-datepicker-navigation-view',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <button class=\"previous\"\n            [disabled]=\"calendar.disableLeftArrow\"\n            [style.visibility]=\"calendar.hideLeftArrow ? 'hidden' : 'visible'\"\n            (click)=\"navTo(true)\"><span>&lsaquo;</span>\n    </button>\n\n    &#8203;  <!-- zero-width space needed for correct alignement\n                  with preserveWhitespaces: false in Angular -->\n\n    <button class=\"current\"\n            *ngIf=\"calendar.monthTitle\"\n            (click)=\"view('month')\"\n    ><span>{{ calendar.monthTitle }}</span>\n    </button>\n\n    &#8203;  <!-- zero-width space needed for correct alignement\n                  with preserveWhitespaces: false in Angular -->\n\n    <button class=\"current\" (click)=\"view('year')\"\n    ><span>{{ calendar.yearTitle }}</span></button>\n\n    &#8203;  <!-- zero-width space needed for correct alignement\n                  with preserveWhitespaces: false in Angular -->\n\n    <button class=\"next\"\n            [disabled]=\"calendar.disableRightArrow\"\n            [style.visibility]=\"calendar.hideRightArrow ? 'hidden' : 'visible'\"\n            (click)=\"navTo(false)\"><span>&rsaquo;</span>\n    </button>\n  `\n})\nexport class BsDatepickerNavigationViewComponent {\n  @Input() calendar: DaysCalendarViewModel;\n\n  @Output() onNavigate = new EventEmitter<BsNavigationDirection>();\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\n\n  navTo(down: boolean): void {\n    this.onNavigate.emit(\n      down ? BsNavigationDirection.DOWN : BsNavigationDirection.UP\n    );\n  }\n\n  view(viewMode: BsDatepickerViewMode): void {\n    this.onViewMode.emit(viewMode);\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output\n} from '@angular/core';\nimport {\n  BsDatepickerViewMode,\n  BsNavigationDirection,\n  BsNavigationEvent,\n  CellHoverEvent,\n  DatepickerRenderOptions,\n  DaysCalendarViewModel,\n  DayViewModel, WeekViewModel\n} from '../../models';\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\n\n@Component({\n  selector: 'bs-days-calendar-view',\n  // changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <!--days matrix-->\n      <table role=\"grid\" class=\"days weeks\">\n        <thead>\n        <tr>\n          <!--if show weeks-->\n          <th *ngIf=\"options.showWeekNumbers\"></th>\n          <th *ngFor=\"let weekday of calendar.weekdays; let i = index\"\n              aria-label=\"weekday\">{{ calendar.weekdays[i] }}\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let week of calendar.weeks; let i = index\">\n          <td class=\"week\" [class.active-week]=\"isWeekHovered\"  *ngIf=\"options.showWeekNumbers\">\n            <span\n                (click)=\"selectWeek(week)\"\n                (mouseenter)=\"weekHoverHandler(week, true)\"\n                (mouseleave)=\"weekHoverHandler(week, false)\">{{ calendar.weekNumbers[i] }}</span>\n          </td>\n          <td *ngFor=\"let day of week.days\" role=\"gridcell\">\n          <span bsDatepickerDayDecorator\n                [day]=\"day\"\n                (click)=\"selectDay(day)\"\n                (mouseenter)=\"hoverDay(day, true)\"\n                (mouseleave)=\"hoverDay(day, false)\">{{ day.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n    </bs-calendar-layout>\n  `\n})\nexport class BsDaysCalendarViewComponent  {\n  @Input() calendar: DaysCalendarViewModel;\n  @Input() options: DatepickerRenderOptions;\n\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\n\n  @Output() onSelect = new EventEmitter<DayViewModel>();\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\n  @Output() onHoverWeek = new EventEmitter<WeekViewModel>();\n\n  isWeekHovered: boolean;\n\n  constructor(private _config: BsDatepickerConfig) { }\n\n  navigateTo(event: BsNavigationDirection): void {\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\n    this.onNavigate.emit({ step: { month: step } });\n  }\n\n  changeViewMode(event: BsDatepickerViewMode): void {\n    this.onViewMode.emit(event);\n  }\n\n  selectDay(event: DayViewModel): void {\n    this.onSelect.emit(event);\n  }\n\n  selectWeek(week: WeekViewModel): void {\n    if (!this._config.selectWeek) {\n      return;\n    }\n\n    if (week.days\n      && week.days[0]\n      && !week.days[0].isDisabled\n      && this._config.selectFromOtherMonth) {\n\n      this.onSelect.emit(week.days[0]);\n\n      return;\n    }\n\n    if (week.days.length === 0) {\n      return;\n    }\n\n    const selectedDay = week.days.find((day: DayViewModel) => {\n      return this._config.selectFromOtherMonth\n        ? !day.isDisabled\n        : !day.isOtherMonth && !day.isDisabled;\n    });\n\n    this.onSelect.emit(selectedDay);\n  }\n\n  weekHoverHandler(cell: WeekViewModel, isHovered: boolean): void {\n    if (!this._config.selectWeek) {\n      return;\n    }\n\n    const hasActiveDays = cell.days.find((day: DayViewModel) => {\n      return this._config.selectFromOtherMonth\n        ? !day.isDisabled\n        : !day.isOtherMonth && !day.isDisabled;\n    });\n\n    if (hasActiveDays) {\n      cell.isHovered = isHovered;\n      this.isWeekHovered = isHovered;\n      this.onHoverWeek.emit(cell);\n    }\n  }\n\n  hoverDay(cell: DayViewModel, isHovered: boolean): void {\n    if (this._config.selectFromOtherMonth && cell.isOtherMonth) {\n      cell.isOtherMonthHovered = isHovered;\n    }\n\n    this.onHover.emit({ cell, isHovered });\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport {\n  BsDatepickerViewMode,\n  BsNavigationDirection,\n  BsNavigationEvent,\n  CellHoverEvent,\n  MonthsCalendarViewModel,\n  CalendarCellViewModel\n} from '../../models';\n\n@Component({\n  selector: 'bs-month-calendar-view',\n  template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"months\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar.months\">\n          <td *ngFor=\"let month of row\" role=\"gridcell\"\n              (click)=\"viewMonth(month)\"\n              (mouseenter)=\"hoverMonth(month, true)\"\n              (mouseleave)=\"hoverMonth(month, false)\"\n              [class.disabled]=\"month.isDisabled\"\n              [class.is-highlighted]=\"month.isHovered\">\n            <span>{{ month.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  `\n})\nexport class BsMonthCalendarViewComponent {\n  @Input() calendar: MonthsCalendarViewModel;\n\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\n\n  @Output() onSelect = new EventEmitter<CalendarCellViewModel>();\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\n\n  navigateTo(event: BsNavigationDirection): void {\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\n    this.onNavigate.emit({ step: { year: step } });\n  }\n\n  viewMonth(month: CalendarCellViewModel) {\n    this.onSelect.emit(month);\n  }\n\n  hoverMonth(cell: CalendarCellViewModel, isHovered: boolean) {\n    this.onHover.emit({ cell, isHovered });\n  }\n\n  changeViewMode(event: BsDatepickerViewMode): void {\n    this.onViewMode.emit(event);\n  }\n}\n","// tslint:disable:max-line-length\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'bs-timepicker',\n  template: `\n    <div class=\"bs-timepicker-container\">\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\">-</button>\n        <input type=\"text\" [value]=\"hours\" placeholder=\"00\">\n        <button class=\"bs-increase\">+</button>\n      </div>\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\">-</button>\n        <input type=\"text\" [value]=\"minutes\" placeholder=\"00\">\n        <button class=\"bs-increase\">+</button>\n      </div>\n      <button class=\"switch-time-format\">{{ ampm }}\n        <img\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==\"\n          alt=\"\">\n      </button>\n    </div>\n  `\n})\nexport class BsTimepickerViewComponent {\n  ampm = 'ok';\n  hours = 0;\n  minutes = 0;\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { yearsPerCalendar } from '../../engine/format-years-calendar';\nimport {\n  BsDatepickerViewMode,\n  BsNavigationDirection,\n  BsNavigationEvent,\n  CalendarCellViewModel,\n  CellHoverEvent,\n  YearsCalendarViewModel\n} from '../../models';\n\n@Component({\n  selector: 'bs-years-calendar-view',\n  template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"years\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar.years\">\n          <td *ngFor=\"let year of row\" role=\"gridcell\"\n              (click)=\"viewYear(year)\"\n              (mouseenter)=\"hoverYear(year, true)\"\n              (mouseleave)=\"hoverYear(year, false)\"\n              [class.disabled]=\"year.isDisabled\"\n              [class.is-highlighted]=\"year.isHovered\">\n            <span>{{ year.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  `\n})\nexport class BsYearsCalendarViewComponent {\n  @Input() calendar: YearsCalendarViewModel;\n\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\n\n  @Output() onSelect = new EventEmitter<CalendarCellViewModel>();\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\n\n  navigateTo(event: BsNavigationDirection): void {\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\n    this.onNavigate.emit({ step: { year: step * yearsPerCalendar } });\n  }\n\n  viewYear(year: CalendarCellViewModel) {\n    this.onSelect.emit(year);\n  }\n\n  hoverYear(cell: CalendarCellViewModel, isHovered: boolean) {\n    this.onHover.emit({ cell, isHovered });\n  }\n\n  changeViewMode(event: BsDatepickerViewMode): void {\n    this.onViewMode.emit(event);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\nimport { BsDatepickerInputDirective } from './bs-datepicker-input.directive';\nimport { BsDatepickerDirective } from './bs-datepicker.component';\nimport { BsDatepickerConfig } from './bs-datepicker.config';\nimport { BsDaterangepickerInputDirective } from './bs-daterangepicker-input.directive';\nimport { BsDaterangepickerDirective } from './bs-daterangepicker.component';\nimport { BsDaterangepickerConfig } from './bs-daterangepicker.config';\nimport { BsDatepickerInlineDirective } from './bs-datepicker-inline.component';\nimport { BsDatepickerInlineConfig } from './bs-datepicker-inline.config';\n\nimport { BsLocaleService } from './bs-locale.service';\nimport { BsDatepickerActions } from './reducer/bs-datepicker.actions';\nimport { BsDatepickerEffects } from './reducer/bs-datepicker.effects';\nimport { BsDatepickerStore } from './reducer/bs-datepicker.store';\nimport { BsCalendarLayoutComponent } from './themes/bs/bs-calendar-layout.component';\nimport { BsCurrentDateViewComponent } from './themes/bs/bs-current-date-view.component';\nimport { BsCustomDatesViewComponent } from './themes/bs/bs-custom-dates-view.component';\nimport { BsDatepickerContainerComponent } from './themes/bs/bs-datepicker-container.component';\nimport { BsDatepickerDayDecoratorComponent } from './themes/bs/bs-datepicker-day-decorator.directive';\nimport { BsDatepickerNavigationViewComponent } from './themes/bs/bs-datepicker-navigation-view.component';\nimport { BsDaterangepickerContainerComponent } from './themes/bs/bs-daterangepicker-container.component';\nimport { BsDaysCalendarViewComponent } from './themes/bs/bs-days-calendar-view.component';\nimport { BsMonthCalendarViewComponent } from './themes/bs/bs-months-calendar-view.component';\nimport { BsTimepickerViewComponent } from './themes/bs/bs-timepicker-view.component';\nimport { BsYearsCalendarViewComponent } from './themes/bs/bs-years-calendar-view.component';\nimport { BsDatepickerInlineContainerComponent } from './themes/bs/bs-datepicker-inline-container.component';\n\nconst _exports = [\n  BsDatepickerContainerComponent,\n  BsDaterangepickerContainerComponent,\n  BsDatepickerInlineContainerComponent,\n\n  BsDatepickerDirective,\n  BsDatepickerInputDirective,\n\n  BsDaterangepickerInputDirective,\n  BsDaterangepickerDirective,\n\n  BsDatepickerInlineDirective\n];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    BsDatepickerDayDecoratorComponent,\n    BsCurrentDateViewComponent,\n    BsDatepickerNavigationViewComponent,\n    BsTimepickerViewComponent,\n\n    BsCalendarLayoutComponent,\n    BsDaysCalendarViewComponent,\n    BsMonthCalendarViewComponent,\n    BsYearsCalendarViewComponent,\n\n    BsCustomDatesViewComponent,\n\n    ..._exports\n  ],\n  entryComponents: [\n    BsDatepickerContainerComponent,\n    BsDaterangepickerContainerComponent,\n    BsDatepickerInlineContainerComponent\n  ],\n  exports: _exports\n})\nexport class BsDatepickerModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: BsDatepickerModule,\n      providers: [\n        ComponentLoaderFactory,\n        PositioningService,\n        BsDatepickerStore,\n        BsDatepickerActions,\n        BsDatepickerConfig,\n        BsDaterangepickerConfig,\n        BsDatepickerInlineConfig,\n        BsDatepickerEffects,\n        BsLocaleService\n      ]\n    };\n  }\n}\n","import { formatDate } from 'ngx-bootstrap/chronos';\n\nexport class DateFormatter {\n  format(date: Date, format: string, locale: string): string {\n    return formatDate(date, format, locale);\n  }\n}\n","/* tslint:disable: max-file-line-count */\nimport {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { DateFormatter } from './date-formatter';\n\n\n@Component({\n  selector: 'datepicker-inner',\n  template: `\n    <!--&lt;!&ndash;ng-keydown=\"keydown($event)\"&ndash;&gt;-->\n    <div *ngIf=\"datepickerMode\" class=\"well well-sm bg-faded p-a card\" role=\"application\" >\n      <ng-content></ng-content>\n    </div>\n  `\n})\nexport class DatePickerInnerComponent implements OnInit, OnChanges {\n  @Input() locale: string;\n  @Input() datepickerMode: string;\n  @Input() startingDay: number;\n  @Input() yearRange: number;\n\n  @Input() minDate: Date;\n  @Input() maxDate: Date;\n  @Input() minMode: string;\n  @Input() maxMode: string;\n  @Input() showWeeks: boolean;\n  @Input() formatDay: string;\n  @Input() formatMonth: string;\n  @Input() formatYear: string;\n  @Input() formatDayHeader: string;\n  @Input() formatDayTitle: string;\n  @Input() formatMonthTitle: string;\n  @Input() onlyCurrentMonth: boolean;\n  @Input() shortcutPropagation: boolean;\n  @Input() customClass: { date: Date; mode: string; clazz: string }[];\n  @Input() monthColLimit: number;\n  @Input() yearColLimit: number;\n  @Input() dateDisabled: { date: Date; mode: string }[];\n  @Input() dayDisabled: number[];\n  @Input() initDate: Date;\n\n  @Output() selectionDone: EventEmitter<Date> = new EventEmitter<Date>(undefined);\n  @Output() update: EventEmitter<Date> = new EventEmitter<Date>(false);\n  @Output() activeDateChange: EventEmitter<Date> = new EventEmitter<Date>(undefined);\n\n  /* tslint:disable-next-line: no-any*/\n  stepDay: any = {};\n  /* tslint:disable-next-line: no-any*/\n  stepMonth: any = {};\n  /* tslint:disable-next-line: no-any*/\n  stepYear: any = {};\n\n  uniqueId: string;\n\n  protected modes: string[] = ['day', 'month', 'year'];\n  protected dateFormatter: DateFormatter = new DateFormatter();\n  protected _activeDate: Date;\n  protected selectedDate: Date;\n  protected activeDateId: string;\n\n  protected refreshViewHandlerDay: Function;\n  protected compareHandlerDay: Function;\n  protected refreshViewHandlerMonth: Function;\n  protected compareHandlerMonth: Function;\n  protected refreshViewHandlerYear: Function;\n  protected compareHandlerYear: Function;\n\n  @Input()\n  get activeDate(): Date {\n    return this._activeDate;\n  }\n\n  set activeDate(value: Date) {\n    this._activeDate = value;\n  }\n\n  // todo: add formatter value to Date object\n  ngOnInit(): void {\n    // todo: use date for unique value\n    this.uniqueId =  `datepicker--${Math.floor(Math.random() * 10000)}`;\n\n    if (this.initDate) {\n      this.activeDate = this.initDate;\n      this.selectedDate = new Date(this.activeDate.valueOf());\n      this.update.emit(this.activeDate);\n    } else if (this.activeDate === undefined) {\n      this.activeDate = new Date();\n    }\n  }\n\n  // this.refreshView should be called here to reflect the changes on the fly\n  // tslint:disable-next-line:no-unused-variable\n  ngOnChanges(changes: SimpleChanges): void {\n    this.refreshView();\n    this.checkIfActiveDateGotUpdated(changes.activeDate);\n  }\n\n  // Check if activeDate has been update and then emit the activeDateChange with the new date\n  /* tslint:disable-next-line: no-any */\n  checkIfActiveDateGotUpdated(activeDate: any): void {\n    if (activeDate && !activeDate.firstChange) {\n      const previousValue = activeDate.previousValue;\n      if (\n        previousValue &&\n        previousValue instanceof Date &&\n        previousValue.getTime() !== activeDate.currentValue.getTime()\n      ) {\n        this.activeDateChange.emit(this.activeDate);\n      }\n    }\n  }\n\n  setCompareHandler(handler: Function, type: string): void {\n    if (type === 'day') {\n      this.compareHandlerDay = handler;\n    }\n\n    if (type === 'month') {\n      this.compareHandlerMonth = handler;\n    }\n\n    if (type === 'year') {\n      this.compareHandlerYear = handler;\n    }\n  }\n\n  compare(date1: Date, date2: Date): number | undefined {\n    if (date1 === undefined || date2 === undefined) {\n      return undefined;\n    }\n\n    if (this.datepickerMode === 'day' && this.compareHandlerDay) {\n      return this.compareHandlerDay(date1, date2);\n    }\n\n    if (this.datepickerMode === 'month' && this.compareHandlerMonth) {\n      return this.compareHandlerMonth(date1, date2);\n    }\n\n    if (this.datepickerMode === 'year' && this.compareHandlerYear) {\n      return this.compareHandlerYear(date1, date2);\n    }\n\n    return void 0;\n  }\n\n  setRefreshViewHandler(handler: Function, type: string): void {\n    if (type === 'day') {\n      this.refreshViewHandlerDay = handler;\n    }\n\n    if (type === 'month') {\n      this.refreshViewHandlerMonth = handler;\n    }\n\n    if (type === 'year') {\n      this.refreshViewHandlerYear = handler;\n    }\n  }\n\n  refreshView(): void {\n    if (this.datepickerMode === 'day' && this.refreshViewHandlerDay) {\n      this.refreshViewHandlerDay();\n    }\n\n    if (this.datepickerMode === 'month' && this.refreshViewHandlerMonth) {\n      this.refreshViewHandlerMonth();\n    }\n\n    if (this.datepickerMode === 'year' && this.refreshViewHandlerYear) {\n      this.refreshViewHandlerYear();\n    }\n  }\n\n  dateFilter(date: Date, format: string): string {\n    return this.dateFormatter.format(date, format, this.locale);\n  }\n\n  /* tslint:disable-next-line: no-any*/\n  isActive(dateObject: any): boolean {\n    if (this.compare(dateObject.date, this.activeDate) === 0) {\n      this.activeDateId = dateObject.uid;\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /* tslint:disable-next-line: no-any*/\n  createDateObject(date: Date, format: string): any {\n    /* tslint:disable-next-line: no-any*/\n    const dateObject: any = {};\n    dateObject.date = new Date(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate()\n    );\n    dateObject.date = this.fixTimeZone(dateObject.date);\n    dateObject.label = this.dateFilter(date, format);\n    dateObject.selected = this.compare(date, this.selectedDate) === 0;\n    dateObject.disabled = this.isDisabled(date);\n    dateObject.current = this.compare(date, new Date()) === 0;\n    dateObject.customClass = this.getCustomClassForDate(dateObject.date);\n\n    return dateObject;\n  }\n\n  /* tslint:disable-next-line: no-any*/\n  split(arr: any[], size: number): any[] {\n    /* tslint:disable-next-line: no-any*/\n    const arrays: any[] = [];\n    while (arr.length > 0) {\n      arrays.push(arr.splice(0, size));\n    }\n\n    return arrays;\n  }\n\n  // Fix a hard-reproducible bug with timezones\n  // The bug depends on OS, browser, current timezone and current date\n  // i.e.\n  // var date = new Date(2014, 0, 1);\n  // console.log(date.getFullYear(), date.getMonth(), date.getDate(),\n  // date.getHours()); can result in \"2013 11 31 23\" because of the bug.\n  fixTimeZone(date: Date): Date {\n    const hours = date.getHours();\n\n    return new Date(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate(),\n      hours === 23 ? hours + 2 : 0\n    );\n  }\n\n  select(date: Date, isManual = true): void {\n    if (this.datepickerMode === this.minMode) {\n      if (!this.activeDate) {\n        this.activeDate = new Date(0, 0, 0, 0, 0, 0, 0);\n      }\n\n      this.activeDate = new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate()\n      );\n      this.activeDate = this.fixTimeZone(this.activeDate);\n      if (isManual) {\n        this.selectionDone.emit(this.activeDate);\n      }\n    } else {\n      this.activeDate = new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate()\n      );\n      this.activeDate = this.fixTimeZone(this.activeDate);\n      if (isManual) {\n        this.datepickerMode = this.modes[\n          this.modes.indexOf(this.datepickerMode) - 1\n        ];\n      }\n    }\n\n    this.selectedDate = new Date(this.activeDate.valueOf());\n    this.update.emit(this.activeDate);\n    this.refreshView();\n  }\n\n  move(direction: number): void {\n    /* tslint:disable-next-line: no-any*/\n    let expectedStep: any;\n    if (this.datepickerMode === 'day') {\n      expectedStep = this.stepDay;\n    }\n\n    if (this.datepickerMode === 'month') {\n      expectedStep = this.stepMonth;\n    }\n\n    if (this.datepickerMode === 'year') {\n      expectedStep = this.stepYear;\n    }\n\n    if (expectedStep) {\n      const year =\n        this.activeDate.getFullYear() + direction * (expectedStep.years || 0);\n      const month =\n        this.activeDate.getMonth() + direction * (expectedStep.months || 0);\n      this.activeDate = new Date(year, month, 1);\n\n      this.refreshView();\n      this.activeDateChange.emit(this.activeDate);\n    }\n  }\n\n  toggleMode(_direction: number): void {\n    const direction = _direction || 1;\n\n    if (\n      (this.datepickerMode === this.maxMode && direction === 1) ||\n      (this.datepickerMode === this.minMode && direction === -1)\n    ) {\n      return;\n    }\n\n    this.datepickerMode = this.modes[\n      this.modes.indexOf(this.datepickerMode) + direction\n    ];\n    this.refreshView();\n  }\n\n  protected getCustomClassForDate(date: Date): string {\n    if (!this.customClass) {\n      return '';\n    }\n    // todo: build a hash of custom classes, it will work faster\n    const customClassObject: {\n      date: Date;\n      mode: string;\n      clazz: string;\n    /* tslint:disable-next-line: no-any */\n    } = this.customClass.find((customClass: any) => {\n      return (\n        customClass.date.valueOf() === date.valueOf() &&\n        customClass.mode === this.datepickerMode\n      );\n    }, this);\n\n    return customClassObject === undefined ? '' : customClassObject.clazz;\n  }\n\n  protected compareDateDisabled(\n    date1Disabled: { date: Date; mode: string },\n    date2: Date\n  ): number {\n    if (date1Disabled === undefined || date2 === undefined) {\n      return undefined;\n    }\n\n    if (date1Disabled.mode === 'day' && this.compareHandlerDay) {\n      return this.compareHandlerDay(date1Disabled.date, date2);\n    }\n\n    if (date1Disabled.mode === 'month' && this.compareHandlerMonth) {\n      return this.compareHandlerMonth(date1Disabled.date, date2);\n    }\n\n    if (date1Disabled.mode === 'year' && this.compareHandlerYear) {\n      return this.compareHandlerYear(date1Disabled.date, date2);\n    }\n\n    return undefined;\n  }\n\n  protected isDisabled(date: Date): boolean {\n    let isDateDisabled = false;\n    if (this.dateDisabled) {\n      this.dateDisabled.forEach(\n        (disabledDate: { date: Date; mode: string }) => {\n          if (this.compareDateDisabled(disabledDate, date) === 0) {\n            isDateDisabled = true;\n          }\n        }\n      );\n    }\n\n    if (this.dayDisabled) {\n      isDateDisabled =\n        isDateDisabled ||\n        this.dayDisabled.indexOf(date.getDay()) > -1;\n    }\n\n    return (\n      isDateDisabled ||\n      (this.minDate && this.compare(date, this.minDate) < 0) ||\n      (this.maxDate && this.compare(date, this.maxDate) > 0)\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DatepickerConfig {\n  locale = 'en';\n  datepickerMode = 'day';\n  startingDay = 0;\n  yearRange = 20;\n  minMode = 'day';\n  maxMode = 'year';\n  showWeeks = true;\n  formatDay = 'DD';\n  formatMonth = 'MMMM';\n  formatYear = 'YYYY';\n  formatDayHeader = 'dd';\n  formatDayTitle = 'MMMM YYYY';\n  formatMonthTitle = 'YYYY';\n  onlyCurrentMonth = false;\n  monthColLimit = 3;\n  yearColLimit = 5;\n  shortcutPropagation = false;\n}\n","import {\n  Component,\n  EventEmitter,\n  forwardRef,\n  Input,\n  Output,\n  Provider,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\nimport { DatepickerConfig } from './datepicker.config';\n\nexport const DATEPICKER_CONTROL_VALUE_ACCESSOR: Provider = {\n  provide: NG_VALUE_ACCESSOR,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => DatePickerComponent),\n  multi: true\n};\n\n/* tslint:disable:component-selector-name component-selector-type */\n@Component({\n  selector: 'datepicker',\n  template: `\n    <datepicker-inner [activeDate]=\"activeDate\"\n                      (update)=\"onUpdate($event)\"\n                      [locale]=\"config.locale\"\n                      [datepickerMode]=\"datepickerMode\"\n                      [initDate]=\"initDate\"\n                      [minDate]=\"minDate\"\n                      [maxDate]=\"maxDate\"\n                      [minMode]=\"minMode\"\n                      [maxMode]=\"maxMode\"\n                      [showWeeks]=\"showWeeks\"\n                      [formatDay]=\"formatDay\"\n                      [formatMonth]=\"formatMonth\"\n                      [formatYear]=\"formatYear\"\n                      [formatDayHeader]=\"formatDayHeader\"\n                      [formatDayTitle]=\"formatDayTitle\"\n                      [formatMonthTitle]=\"formatMonthTitle\"\n                      [startingDay]=\"startingDay\"\n                      [yearRange]=\"yearRange\"\n                      [customClass]=\"customClass\"\n                      [dateDisabled]=\"dateDisabled\"\n                      [dayDisabled]=\"dayDisabled\"\n                      [onlyCurrentMonth]=\"onlyCurrentMonth\"\n                      [shortcutPropagation]=\"shortcutPropagation\"\n                      [monthColLimit]=\"monthColLimit\"\n                      [yearColLimit]=\"yearColLimit\"\n                      (selectionDone)=\"onSelectionDone($event)\"\n                      (activeDateChange)=\"onActiveDateChange($event)\">\n      <daypicker tabindex=\"0\"></daypicker>\n      <monthpicker tabindex=\"0\"></monthpicker>\n      <yearpicker tabindex=\"0\"></yearpicker>\n    </datepicker-inner>\n    `,\n  providers: [DATEPICKER_CONTROL_VALUE_ACCESSOR]\n})\n/* tslint:enable:component-selector-name component-selector-type */\nexport class DatePickerComponent implements ControlValueAccessor {\n  /** sets datepicker mode, supports: `day`, `month`, `year` */\n  @Input() datepickerMode = 'day';\n  /** default date to show if `ng-model` value is not specified */\n  @Input() initDate: Date;\n  /**  oldest selectable date */\n  @Input() minDate: Date;\n  /** latest selectable date */\n  @Input() maxDate: Date;\n  /** set lower datepicker mode, supports: `day`, `month`, `year` */\n  @Input() minMode: string;\n  /** sets upper datepicker mode, supports: `day`, `month`, `year` */\n  @Input() maxMode: string;\n  /** if false week numbers will be hidden */\n  @Input() showWeeks = true;\n  /** format of day in month */\n  @Input() formatDay: string;\n  /** format of month in year */\n  @Input() formatMonth: string;\n  /** format of year in year range */\n  @Input() formatYear: string;\n  /** format of day in week header */\n  @Input() formatDayHeader: string;\n  /** format of title when selecting day */\n  @Input() formatDayTitle: string;\n  /** format of title when selecting month */\n  @Input() formatMonthTitle: string;\n  /** starting day of the week from 0-6 (0=Sunday, ..., 6=Saturday) */\n  @Input() startingDay: number;\n  /** number of years displayed in year selection */\n  @Input() yearRange: number;\n  /** if true only dates from the currently displayed month will be shown */\n  @Input() onlyCurrentMonth: boolean;\n  /** if true shortcut`s event propagation will be disabled */\n  @Input() shortcutPropagation: boolean;\n  /** number of months displayed in a single row of month picker */\n  @Input() monthColLimit: number;\n  /** number of years displayed in a single row of year picker */\n  @Input() yearColLimit: number;\n  /** array of custom css classes to be applied to targeted dates */\n  @Input() customClass: { date: Date; mode: string; clazz: string }[];\n  /** array of disabled dates */\n  @Input() dateDisabled: { date: Date; mode: string }[];\n  /** disabled days of the week from 0-6 (0=Sunday, ..., 6=Saturday) */\n  @Input() dayDisabled: number[];\n\n  /** currently active date */\n  @Input()\n  get activeDate(): Date {\n    return this._activeDate || this._now;\n  }\n\n  set activeDate(value: Date) {\n    this._activeDate = value;\n  }\n\n  @Output()\n  selectionDone: EventEmitter<Date> = new EventEmitter<Date>(undefined);\n\n  /** callback to invoke when the activeDate is changed. */\n  @Output()\n  activeDateChange: EventEmitter<Date> = new EventEmitter<Date>(\n    undefined\n  );\n\n  @ViewChild(DatePickerInnerComponent)\n  _datePicker: DatePickerInnerComponent;\n\n  /* tslint:disable-next-line: no-any*/\n  onChange: any = Function.prototype;\n  /* tslint:disable-next-line: no-any*/\n  onTouched: any = Function.prototype;\n\n  config: DatepickerConfig;\n\n  protected _now: Date = new Date();\n  protected _activeDate: Date;\n\n  constructor(config: DatepickerConfig) {\n    this.config = config;\n    this.configureOptions();\n  }\n\n  configureOptions(): void {\n    Object.assign(this, this.config);\n  }\n\n  onUpdate(event: Date): void {\n    this.activeDate = event;\n    this.onChange(event);\n  }\n\n  onSelectionDone(event: Date): void {\n    this.selectionDone.emit(event);\n  }\n\n  onActiveDateChange(event: Date): void {\n    this.activeDateChange.emit(event);\n  }\n  // todo: support null value\n  /* tslint:disable-next-line: no-any*/\n  writeValue(value: any): void {\n    if (this._datePicker.compare(value, this._activeDate) === 0) {\n      return;\n    }\n    if (value && value instanceof Date) {\n      this.activeDate = value;\n      this._datePicker.select(value, false);\n\n      return;\n    }\n\n    this.activeDate = value ? new Date(value) : void 0;\n  }\n\n  registerOnChange(fn: () => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n}\n","// @deprecated\n// tslint:disable\nimport { Component, OnInit } from '@angular/core';\nimport { isBs3 } from 'ngx-bootstrap/utils';\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\n\n@Component({\n  selector: 'daypicker',\n  template: `\n<table *ngIf=\"datePicker.datepickerMode === 'day'\" role=\"grid\" [attr.aria-labelledby]=\"datePicker.uniqueId + '-title'\" aria-activedescendant=\"activeDateId\">\n  <thead>\n    <tr>\n      <th>\n        <button *ngIf=\"!isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\"\n                tabindex=\"-1\"></button>\n        <button *ngIf=\"isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\"\n                tabindex=\"-1\">&lt;</button>\n      </th>\n      <th [attr.colspan]=\"5 + (datePicker.showWeeks ? 1 : 0)\">\n        <button [id]=\"datePicker.uniqueId + '-title'\"\n                type=\"button\" class=\"btn btn-default btn-secondary btn-sm\"\n                (click)=\"datePicker.toggleMode(0)\"\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\n          <strong>{{ title }}</strong>\n        </button>\n      </th>\n      <th>\n        <button *ngIf=\"!isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\"\n                tabindex=\"-1\"></button>\n        <button *ngIf=\"isBs4\"\n                type=\"button\"\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\"\n                tabindex=\"-1\">&gt;\n        </button>\n      </th>\n    </tr>\n    <tr>\n      <th *ngIf=\"datePicker.showWeeks\"></th>\n      <th *ngFor=\"let labelz of labels\" class=\"text-center\">\n        <small aria-label=\"labelz.full\"><b>{{ labelz.abbr }}</b></small>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <ng-template ngFor [ngForOf]=\"rows\" let-rowz=\"$implicit\" let-index=\"index\">\n      <tr *ngIf=\"!(datePicker.onlyCurrentMonth && rowz[0].secondary && rowz[6].secondary)\">\n        <td *ngIf=\"datePicker.showWeeks\" class=\"h6\" class=\"text-center\">\n          <em>{{ weekNumbers[index] }}</em>\n        </td>\n        <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [id]=\"dtz.uid\">\n          <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-sm {{dtz.customClass}}\"\n                  *ngIf=\"!(datePicker.onlyCurrentMonth && dtz.secondary)\"\n                  [ngClass]=\"{'btn-secondary': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected, disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz), 'btn-default': !isBs4}\"\n                  [disabled]=\"dtz.disabled\"\n                  (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\n            <span [ngClass]=\"{'text-muted': dtz.secondary || dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\n          </button>\n        </td>\n      </tr>\n    </ng-template>\n  </tbody>\n</table>\n  `,\n  styles: [\n    `\n    :host .btn-secondary {\n      color: #292b2c;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    :host .btn-info .text-muted {\n      color: #292b2c !important;\n    }\n  `\n  ]\n})\nexport class DayPickerComponent implements OnInit {\n  labels: any[] = [];\n  title: string;\n  rows: any[] = [];\n  weekNumbers: number[] = [];\n  datePicker: DatePickerInnerComponent;\n\n  constructor(datePicker: DatePickerInnerComponent) {\n    this.datePicker = datePicker;\n  }\n\n  get isBs4(): boolean {\n    return !isBs3();\n  }\n\n  /*protected getDaysInMonth(year:number, month:number) {\n   return ((month === 1) && (year % 4 === 0) &&\n   ((year % 100 !== 0) || (year % 400 === 0))) ? 29 : DAYS_IN_MONTH[month];\n   }*/\n  ngOnInit(): void {\n    const self = this;\n\n    this.datePicker.stepDay = { months: 1 };\n\n    this.datePicker.setRefreshViewHandler(function(): void {\n      const year = this.activeDate.getFullYear();\n      const month = this.activeDate.getMonth();\n      const firstDayOfMonth = new Date(year, month, 1);\n      const difference = this.startingDay - firstDayOfMonth.getDay();\n      const numDisplayedFromPreviousMonth =\n        difference > 0 ? 7 - difference : -difference;\n      const firstDate = new Date(firstDayOfMonth.getTime());\n\n      if (numDisplayedFromPreviousMonth > 0) {\n        firstDate.setDate(-numDisplayedFromPreviousMonth + 1);\n      }\n\n      // 42 is the number of days on a six-week calendar\n      const _days: Date[] = self.getDates(firstDate, 42);\n      const days: any[] = [];\n      for (let i = 0; i < 42; i++) {\n        const _dateObject = this.createDateObject(_days[i], this.formatDay);\n        _dateObject.secondary = _days[i].getMonth() !== month;\n        _dateObject.uid = this.uniqueId + '-' + i;\n        days[i] = _dateObject;\n      }\n\n      self.labels = [];\n      for (let j = 0; j < 7; j++) {\n        self.labels[j] = {};\n        self.labels[j].abbr = this.dateFilter(\n          days[j].date,\n          this.formatDayHeader\n        );\n        self.labels[j].full = this.dateFilter(days[j].date, 'EEEE');\n      }\n\n      self.title = this.dateFilter(this.activeDate, this.formatDayTitle);\n      self.rows = this.split(days, 7);\n\n      if (this.showWeeks) {\n        self.weekNumbers = [];\n        const thursdayIndex = (4 + 7 - this.startingDay) % 7;\n        const numWeeks = self.rows.length;\n        for (let curWeek = 0; curWeek < numWeeks; curWeek++) {\n          self.weekNumbers.push(\n            self.getISO8601WeekNumber(self.rows[curWeek][thursdayIndex].date)\n          );\n        }\n      }\n    }, 'day');\n\n    this.datePicker.setCompareHandler(function(\n      date1: Date,\n      date2: Date\n    ): number {\n      const d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());\n      const d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());\n      return d1.getTime() - d2.getTime();\n    }, 'day');\n\n    this.datePicker.refreshView();\n  }\n\n  protected getDates(startDate: Date, n: number): Date[] {\n    const dates: Date[] = new Array(n);\n    let current = new Date(startDate.getTime());\n    let i = 0;\n    let date: Date;\n    while (i < n) {\n      date = new Date(current.getTime());\n      date = this.datePicker.fixTimeZone(date);\n      dates[i++] = date;\n      current = new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate() + 1\n      );\n    }\n    return dates;\n  }\n\n  protected getISO8601WeekNumber(date: Date): number {\n    const checkDate = new Date(date.getTime());\n    // Thursday\n    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));\n    const time = checkDate.getTime();\n    // Compare with Jan 1\n    checkDate.setMonth(0);\n    checkDate.setDate(1);\n    return (\n      Math.floor(Math.round((time - checkDate.getTime()) / 86400000) / 7) + 1\n    );\n  }\n\n  // todo: key events implementation\n}\n","// @deprecated\n// tslint:disable\nimport { Component, OnInit } from '@angular/core';\n\nimport { isBs3 } from 'ngx-bootstrap/utils';\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\n\n@Component({\n  selector: 'monthpicker',\n  template: `\n<table *ngIf=\"datePicker.datepickerMode==='month'\" role=\"grid\">\n  <thead>\n    <tr>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\"></button></th>\n      <th [attr.colspan]=\"((datePicker.monthColLimit - 2) <= 0) ? 1 : datePicker.monthColLimit - 2\">\n        <button [id]=\"datePicker.uniqueId + '-title'\"\n                type=\"button\" class=\"btn btn-default btn-sm\"\n                (click)=\"datePicker.toggleMode(0)\"\n                [disabled]=\"datePicker.datepickerMode === maxMode\"\n                [ngClass]=\"{disabled: datePicker.datepickerMode === maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\n          <strong>{{ title }}</strong> \n        </button>\n      </th>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\"></button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let rowz of rows\">\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\" [ngClass]=\"dtz.customClass\">\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\n                [disabled]=\"dtz.disabled\"\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  `,\n  styles: [\n    `\n    :host .btn-info .text-success {\n      color: #fff !important;\n    }\n  `\n  ]\n})\nexport class MonthPickerComponent implements OnInit {\n  title: string;\n  rows: any[] = [];\n  datePicker: DatePickerInnerComponent;\n  maxMode: string;\n\n  constructor(datePicker: DatePickerInnerComponent) {\n    this.datePicker = datePicker;\n  }\n\n  get isBs4(): boolean {\n    return !isBs3();\n  }\n\n  ngOnInit(): void {\n    const self = this;\n\n    this.datePicker.stepMonth = { years: 1 };\n\n    this.datePicker.setRefreshViewHandler(function(): void {\n      const months: any[] = new Array(12);\n      const year: number = this.activeDate.getFullYear();\n      let date: Date;\n\n      for (let i = 0; i < 12; i++) {\n        date = new Date(year, i, 1);\n        date = this.fixTimeZone(date);\n        months[i] = this.createDateObject(date, this.formatMonth);\n        months[i].uid = this.uniqueId + '-' + i;\n      }\n\n      self.title = this.dateFilter(this.activeDate, this.formatMonthTitle);\n      self.rows = this.split(months, self.datePicker.monthColLimit);\n    }, 'month');\n\n    this.datePicker.setCompareHandler(function(\n      date1: Date,\n      date2: Date\n    ): number {\n      const d1 = new Date(date1.getFullYear(), date1.getMonth());\n      const d2 = new Date(date2.getFullYear(), date2.getMonth());\n      return d1.getTime() - d2.getTime();\n    }, 'month');\n\n    this.datePicker.refreshView();\n  }\n\n  // todo: key events implementation\n}\n","// @deprecated\n// tslint:disable\nimport { Component, OnInit } from '@angular/core';\n\nimport { isBs3 } from 'ngx-bootstrap/utils';\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\n\n@Component({\n  selector: 'yearpicker',\n  template: `\n<table *ngIf=\"datePicker.datepickerMode==='year'\" role=\"grid\">\n  <thead>\n    <tr>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\"></button>\n      </th>\n      <th [attr.colspan]=\"((datePicker.yearColLimit - 2) <= 0) ? 1 : datePicker.yearColLimit - 2\">\n        <button [id]=\"datePicker.uniqueId + '-title'\" role=\"heading\"\n                type=\"button\" class=\"btn btn-default btn-sm\"\n                (click)=\"datePicker.toggleMode(0)\"\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\n          <strong>{{ title }}</strong>\n        </button>\n      </th>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\"></button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let rowz of rows\">\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\">\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\n                [disabled]=\"dtz.disabled\"\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  `,\n  styles: [\n    `\n    :host .btn-info .text-success {\n      color: #fff !important;\n    }\n  `\n  ]\n})\nexport class YearPickerComponent implements OnInit {\n  datePicker: DatePickerInnerComponent;\n  title: string;\n  rows: any[] = [];\n\n  constructor(datePicker: DatePickerInnerComponent) {\n    this.datePicker = datePicker;\n  }\n\n  get isBs4(): boolean {\n    return !isBs3();\n  }\n\n  ngOnInit(): void {\n    const self = this;\n\n    this.datePicker.stepYear = { years: this.datePicker.yearRange };\n\n    this.datePicker.setRefreshViewHandler(function(): void {\n      const years: any[] = new Array(this.yearRange);\n      let date: Date;\n      const start = self.getStartingYear(this.activeDate.getFullYear());\n\n      for (let i = 0; i < this.yearRange; i++) {\n        date = new Date(start + i, 0, 1);\n        date = this.fixTimeZone(date);\n        years[i] = this.createDateObject(date, this.formatYear);\n        years[i].uid = this.uniqueId + '-' + i;\n      }\n\n      self.title = [years[0].label, years[this.yearRange - 1].label].join(\n        ' - '\n      );\n      self.rows = this.split(years, self.datePicker.yearColLimit);\n    }, 'year');\n\n    this.datePicker.setCompareHandler(function(\n      date1: Date,\n      date2: Date\n    ): number {\n      return date1.getFullYear() - date2.getFullYear();\n    }, 'year');\n\n    this.datePicker.refreshView();\n  }\n\n  protected getStartingYear(year: number): number {\n    // todo: parseInt\n    return (\n      (year - 1) / this.datePicker.yearRange * this.datePicker.yearRange + 1\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\nimport { DatePickerComponent } from './datepicker.component';\nimport { DatepickerConfig } from './datepicker.config';\nimport { DayPickerComponent } from './daypicker.component';\nimport { MonthPickerComponent } from './monthpicker.component';\nimport { YearPickerComponent } from './yearpicker.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule],\n  declarations: [\n    DatePickerComponent,\n    DatePickerInnerComponent,\n    DayPickerComponent,\n    MonthPickerComponent,\n    YearPickerComponent\n  ],\n  exports: [\n    DatePickerComponent,\n    DatePickerInnerComponent,\n    DayPickerComponent,\n    MonthPickerComponent,\n    YearPickerComponent\n  ],\n  entryComponents: [DatePickerComponent]\n})\nexport class DatepickerModule {\n  static forRoot(): ModuleWithProviders {\n    return { ngModule: DatepickerModule, providers: [DatepickerConfig] };\n  }\n}\n"],"names":["Injectable","BehaviorSubject","filter","map","getMonth","getFullYear","tslib_1.__values","isFirstDayOfWeek","getDay","shiftDate","isBefore","endOf","isAfter","startOf","isSame","getFirstDayOfMonth","formatDate","getLocale","isSameMonth","isSameDay","isDisabledDay","height","width","shift","isSameYear","setFullDate","isDateValid","isArray","tslib_1.__extends","MiniState","MiniStore","EventEmitter","Component","PositioningService","Directive","ElementRef","Renderer2","ViewContainerRef","ComponentLoaderFactory","Input","Output","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","isDate","parseDate","Host","ChangeDetectorRef","ChangeDetectionStrategy","NgModule","CommonModule","ViewChild","isBs3","FormsModule"],"mappings":"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"}
